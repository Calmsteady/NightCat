webpackJsonp([12],{201:function(i,n,e){e(293);var t=e(0)(e(247),e(546),null,null);i.exports=t.exports},247:function(i,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={name:"admin-links",data:function(){return{name:"",avatar:"",bio:"",link:"",addModalShow:!1,active:null,type:"add",list:[]}},methods:{getLinks:function(){var i=this;this.$graphql.query("\n        links {\n          ...link\n        }\n      ",["link"]).then(function(n){i.list=n}).catch(function(n){return i.$toast(n.message,"error")})},editLink:function(){var i=this,n=this.name,e=this.bio,t=this.link,a=this.avatar;this.$graphql.mutation("\n        updateLink ($id, $name, $bio, $link, $avatar) {\n          ...link\n        }\n      ",{id:this.list[this.active]._id,name:n,bio:e,link:t,avatar:a},["link"]).then(function(n){i.$toast("修改成功","success"),i.addModalShow=!1,i.list=n}).catch(function(n){return i.$toast(n.message,"error")})},addLink:function(){var i=this,n=this.name,e=this.bio,t=this.link,a=this.avatar;this.$graphql.mutation("\n        addLink ($name, $bio, $link, $avatar) {\n          ...link\n        }\n      ",{name:n,bio:e,link:t,avatar:a},["link"]).then(function(n){i.$toast("添加成功","success"),i.addModalShow=!1,i.list=n}).catch(function(n){return i.$toast(n.message,"error")})},deleteLink:function(){var i=this;if(null===this.active)return this.$toast("请选中一个需要删除的链接","warning");var n=this.active;this.$prompt("确定删除"+this.list[n].name+"吗?",function(){i.$graphql.mutation("\n          removeLink ($id) {\n            ...link\n          }\n        ",{id:i.list[n]._id},["link"]).then(function(n){i.$toast("删除成功","success"),i.list=n,i.active=null}).catch(function(n){return i.$toast(n.message,"error")})})},openModal:function(i){if("edit"===i){if(null===this.active)return this.$toast("请选中一个需要编辑的链接","warning");var n=this.list[this.active],e=n.name,t=n.bio,a=n.link,l=n.avatar;this.name=e,this.bio=t,this.link=a,this.avatar=l}else this.name="",this.bio="",this.link="",this.avatar="";this.type=i,this.addModalShow=!0}},mounted:function(){this.getLinks()}}},275:function(i,n,e){n=i.exports=e(195)(!0),n.push([i.i,".admin-links-view{position:relative;-webkit-box-flex:1;-ms-flex:1;flex:1;margin:20px 0}.admin-links-view,.admin-links-view .link-modal{display:-webkit-box;display:-ms-flexbox;display:flex}.admin-links-view .link-modal{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.admin-links-view .link-modal button{margin-top:20px;-ms-flex-item-align:stretch;-ms-grid-row-align:stretch;align-self:stretch}.admin-links-view .admin-main{display:block}.admin-links-view .link-item{height:140px;width:30%;overflow:hidden;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;box-shadow:0 0 2px 0 rgba(0,0,0,.36);padding:10px;margin:10px}.admin-links-view .link-item.active{outline:2px solid #3da8f5}.admin-links-view .link-item .avatar{width:120px;height:120px;border-radius:3px;background-repeat:no-repeat;background-size:cover;background-position:50%;background-color:gray}.admin-links-view .link-item .info{-webkit-box-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;overflow:hidden;padding:20px}.admin-links-view .link-item .info .name{font-size:20px;margin-bottom:5px}.admin-links-view .link-item .info .bio{color:gray;margin-bottom:25px;font-size:14px}.admin-links-view .link-item .info .link-wrap{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.admin-links-view .link-item .info .link{font-size:12px;color:#3da8f5}","",{version:3,sources:["/Users/mac/Desktop/mine/NightCat/view/src/views/admin/links.vue"],names:[],mappings:"AAKA,kBACE,kBAAmB,AACnB,mBAAoB,AAChB,WAAY,AACR,OAAQ,AAChB,aAAe,CAIhB,AACD,gDAJE,oBAAqB,AACrB,oBAAqB,AACrB,YAAc,CAgBf,AAdD,8BAII,4BAA6B,AAC7B,6BAA8B,AAC1B,0BAA2B,AACvB,sBAAuB,AAC/B,wBAAyB,AACrB,qBAAsB,AAClB,uBAAwB,AAChC,yBAA0B,AACtB,sBAAuB,AACnB,kBAAoB,CAC/B,AACD,qCACM,gBAAiB,AACjB,4BAA6B,AACzB,2BAA4B,AAC5B,kBAAoB,CAC7B,AACD,8BACI,aAAe,CAClB,AACD,6BACI,aAAc,AACd,UAAW,AACX,gBAAiB,AACjB,2BAA4B,AAC5B,2BAA4B,AAC5B,oBAAqB,AACrB,yBAA0B,AACtB,sBAAuB,AACnB,mBAAoB,AAC5B,qCAA0C,AAC1C,aAAc,AACd,WAAa,CAChB,AACD,oCACM,yBAA2B,CAChC,AACD,qCACM,YAAa,AACb,aAAc,AACd,kBAAmB,AACnB,4BAA6B,AAC7B,sBAAuB,AACvB,wBAA4B,AAC5B,qBAA0B,CAC/B,AACD,mCACM,mBAAoB,AAChB,WAAY,AACR,OAAQ,AAChB,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,4BAA6B,AAC7B,6BAA8B,AAC1B,0BAA2B,AACvB,sBAAuB,AAC/B,wBAAyB,AACrB,qBAAsB,AAClB,uBAAwB,AAChC,gBAAiB,AACjB,YAAc,CACnB,AACD,yCACQ,eAAgB,AAChB,iBAAmB,CAC1B,AACD,wCACQ,WAAe,AACf,mBAAoB,AACpB,cAAgB,CACvB,AACD,8CACQ,gBAAiB,AACjB,uBAAwB,AACxB,kBAAoB,CAC3B,AACD,yCACQ,eAAgB,AAChB,aAAe,CACtB",file:"links.vue",sourcesContent:['\n@charset "UTF-8";\n/*\n * 基础色\n */\n.admin-links-view {\n  position: relative;\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  margin: 20px 0;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n}\n.admin-links-view .link-modal {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-orient: vertical;\n    -webkit-box-direction: normal;\n        -ms-flex-direction: column;\n            flex-direction: column;\n    -webkit-box-pack: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n}\n.admin-links-view .link-modal button {\n      margin-top: 20px;\n      -ms-flex-item-align: stretch;\n          -ms-grid-row-align: stretch;\n          align-self: stretch;\n}\n.admin-links-view .admin-main {\n    display: block;\n}\n.admin-links-view .link-item {\n    height: 140px;\n    width: 30%;\n    overflow: hidden;\n    display: -webkit-inline-box;\n    display: -ms-inline-flexbox;\n    display: inline-flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    box-shadow: 0 0 2px 0 rgba(0, 0, 0, 0.36);\n    padding: 10px;\n    margin: 10px;\n}\n.admin-links-view .link-item.active {\n      outline: 2px solid #3da8f5;\n}\n.admin-links-view .link-item .avatar {\n      width: 120px;\n      height: 120px;\n      border-radius: 3px;\n      background-repeat: no-repeat;\n      background-size: cover;\n      background-position: center;\n      background-color: #808080;\n}\n.admin-links-view .link-item .info {\n      -webkit-box-flex: 1;\n          -ms-flex: 1;\n              flex: 1;\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-orient: vertical;\n      -webkit-box-direction: normal;\n          -ms-flex-direction: column;\n              flex-direction: column;\n      -webkit-box-pack: center;\n          -ms-flex-pack: center;\n              justify-content: center;\n      overflow: hidden;\n      padding: 20px;\n}\n.admin-links-view .link-item .info .name {\n        font-size: 20px;\n        margin-bottom: 5px;\n}\n.admin-links-view .link-item .info .bio {\n        color: #808080;\n        margin-bottom: 25px;\n        font-size: 14px;\n}\n.admin-links-view .link-item .info .link-wrap {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n}\n.admin-links-view .link-item .info .link {\n        font-size: 12px;\n        color: #3da8f5;\n}\n'],sourceRoot:""}])},293:function(i,n,e){var t=e(275);"string"==typeof t&&(t=[[i.i,t,""]]),t.locals&&(i.exports=t.locals);e(196)("831da722",t,!0)},546:function(i,n){i.exports={render:function(){var i=this,n=i.$createElement,e=i._self._c||n;return e("div",{staticClass:"admin-links-view"},[e("aside",{staticClass:"aside"},[e("div",{staticClass:"radius-btn blue",on:{click:function(n){i.openModal("add")}}},[e("Icon",{attrs:{name:"plus",size:24}})],1),i._v(" "),e("div",{staticClass:"radius-btn yellow",on:{click:function(n){i.openModal("edit")}}},[e("Icon",{attrs:{name:"post",size:24}})],1),i._v(" "),e("div",{staticClass:"radius-btn red",on:{click:i.deleteLink}},[e("Icon",{attrs:{name:"delete",size:24}})],1)]),i._v(" "),e("div",{staticClass:"admin-main"},i._l(i.list,function(n,t){return e("div",{class:["link-item",{active:i.active===t}],on:{click:function(n){i.active=t}}},[e("div",{staticClass:"avatar",style:{backgroundImage:"url("+n.avatar+")"}}),i._v(" "),e("div",{staticClass:"info"},[e("div",{staticClass:"name"},[i._v(i._s(n.name))]),i._v(" "),e("div",{staticClass:"bio"},[i._v(i._s(n.bio))]),i._v(" "),e("div",{staticClass:"link-wrap"},[i._v("Link: "),e("a",{staticClass:"link",attrs:{href:n.link,target:"_blank"}},[i._v(i._s(n.link))])])])])})),i._v(" "),e("Modal",{attrs:{"class-name":"link-modal"},model:{value:i.addModalShow,callback:function(n){i.addModalShow=n},expression:"addModalShow"}},[e("Input",{attrs:{label:"名字"},model:{value:i.name,callback:function(n){i.name=n},expression:"name"}}),i._v(" "),e("Input",{attrs:{label:"头像"},model:{value:i.avatar,callback:function(n){i.avatar=n},expression:"avatar"}}),i._v(" "),e("Input",{attrs:{label:"简述"},model:{value:i.bio,callback:function(n){i.bio=n},expression:"bio"}}),i._v(" "),e("Input",{attrs:{label:"链接"},model:{value:i.link,callback:function(n){i.link=n},expression:"link"}}),i._v(" "),"add"===i.type?e("Btn",{on:{click:i.addLink}},[i._v("OK")]):i._e(),i._v(" "),"edit"===i.type?e("Btn",{on:{click:i.editLink}},[i._v("OK")]):i._e()],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=12.f638bd702b768b0f501d.js.map