webpackJsonp([11],{202:function(t,a,n){n(291);var i=n(0)(n(248),n(544),null,null);t.exports=i.exports},248:function(t,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={name:"admin-tag",data:function(){return{type:"add",addModalShow:!1,active:null,list:[],name:""}},computed:{activeTag:function(){return this.list.length&&null!==this.active?this.list[this.active].name:""},articles:function(){return null!==this.active?this.list[this.active].article:null}},methods:{getTags:function(){var t=this;this.$graphql.query("\n        tags {\n          ...tag\n        }\n      ",["tag"]).then(function(a){t.list=a}).catch(function(a){return t.$toast(a.message,"error")})},addTag:function(){var t=this;this.$graphql.mutation("\n        addTag ($name) {\n          ...tag\n        }\n      ",{name:this.name},["tag"]).then(function(a){t.$toast("添加成功","success"),t.addModalShow=!1,t.getTags()}).catch(function(a){return t.$toast(a.message,"error")})},editTag:function(){var t=this;this.$graphql.mutation("\n        updateTag ($id, $name) {\n          ...tag\n        }\n      ",{id:this.list[this.active]._id,name:this.name},["tag"]).then(function(a){t.$toast("添加成功","success"),t.addModalShow=!1,t.list=a}).catch(function(a){return t.$toast(a.message,"error")})},removeTag:function(){var t=this;this.$graphql.mutation("\n        removeTag ($name) {\n          ...tag\n        }\n      ",{name:this.activeTag},["tag"]).then(function(a){t.$toast("删除成功","success"),t.active=null,t.list=a}).catch(function(a){return t.$toast(a.message,"error")})},clickTag:function(t){this.active=t===this.active?null:t},minusClick:function(){if(!this.activeTag)return this.$toast("请先选中一个标签","warning");this.$prompt("确定删除该标签吗？",this.removeTag)},openModal:function(t){if("edit"===t){if(null===this.active)return this.$toast("请选中一个需要编辑的标签","warning");var a=this.list[this.active].name;this.name=a}else this.name="";this.type=t,this.addModalShow=!0}},mounted:function(){this.getTags()}}},273:function(t,a,n){a=t.exports=n(195)(!0),a.push([t.i,".admin-tag-view{position:relative;-webkit-box-flex:1;-ms-flex:1;flex:1;margin:20px 0;display:-webkit-box;display:-ms-flexbox;display:flex}.admin-tag-view .tag-badge{display:inline-block;padding:5px 12px;border:2px solid #ccc;border-radius:20px;cursor:pointer;transition:all .3s;margin-right:10px}.admin-tag-view .tag-badge:hover{border-color:#a6a6a6}.admin-tag-view .tag-badge.active{color:#3da8f5;border-color:#3da8f5}.admin-tag-view .admin-main{-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline}.admin-tag-view .admin-main,.admin-tag-view .tag-modal{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.admin-tag-view .tag-modal{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.admin-tag-view .tag-modal button{margin-top:20px;-ms-flex-item-align:stretch;-ms-grid-row-align:stretch;align-self:stretch}.admin-tag-view .article-wrap,.admin-tag-view .tag-wrap{padding:20px;width:100%;-webkit-box-flex:1;-ms-flex:1;flex:1}.admin-tag-view .article-wrap h1,.admin-tag-view .tag-wrap h1{margin-bottom:10px}.admin-tag-view .article-wrap{background-color:#e5e5e5}","",{version:3,sources:["/Users/mac/Desktop/mine/NightCat/view/src/views/admin/tag.vue"],names:[],mappings:"AAKA,gBACE,kBAAmB,AACnB,mBAAoB,AAChB,WAAY,AACR,OAAQ,AAChB,cAAe,AACf,oBAAqB,AACrB,oBAAqB,AACrB,YAAc,CACf,AACD,2BACI,qBAAsB,AACtB,iBAAkB,AAClB,sBAAuB,AACvB,mBAAoB,AACpB,eAAgB,AAChB,mBAAoB,AACpB,iBAAmB,CACtB,AACD,iCACM,oBAAsB,CAC3B,AACD,kCACM,cAAe,AACf,oBAAsB,CAC3B,AACD,4BAKI,2BAA4B,AACxB,wBAAyB,AACrB,oBAAsB,CACjC,AACD,uDARI,4BAA6B,AAC7B,6BAA8B,AAC1B,0BAA2B,AACvB,qBAAuB,CAmBlC,AAdD,2BACI,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AAKd,wBAAyB,AACrB,qBAAsB,AAClB,uBAAwB,AAChC,yBAA0B,AACtB,sBAAuB,AACnB,kBAAoB,CAC/B,AACD,kCACM,gBAAiB,AACjB,4BAA6B,AACzB,2BAA4B,AAC5B,kBAAoB,CAC7B,AACD,wDACI,aAAc,AACd,WAAY,AACZ,mBAAoB,AAChB,WAAY,AACR,MAAQ,CACnB,AACD,8DACM,kBAAoB,CACzB,AACD,8BACI,wBAA0B,CAC7B",file:"tag.vue",sourcesContent:['\n@charset "UTF-8";\n/*\n * 基础色\n */\n.admin-tag-view {\n  position: relative;\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  margin: 20px 0;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n}\n.admin-tag-view .tag-badge {\n    display: inline-block;\n    padding: 5px 12px;\n    border: 2px solid #ccc;\n    border-radius: 20px;\n    cursor: pointer;\n    transition: all .3s;\n    margin-right: 10px;\n}\n.admin-tag-view .tag-badge:hover {\n      border-color: #a6a6a6;\n}\n.admin-tag-view .tag-badge.active {\n      color: #3da8f5;\n      border-color: #3da8f5;\n}\n.admin-tag-view .admin-main {\n    -webkit-box-orient: vertical;\n    -webkit-box-direction: normal;\n        -ms-flex-direction: column;\n            flex-direction: column;\n    -webkit-box-align: baseline;\n        -ms-flex-align: baseline;\n            align-items: baseline;\n}\n.admin-tag-view .tag-modal {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-orient: vertical;\n    -webkit-box-direction: normal;\n        -ms-flex-direction: column;\n            flex-direction: column;\n    -webkit-box-pack: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n}\n.admin-tag-view .tag-modal button {\n      margin-top: 20px;\n      -ms-flex-item-align: stretch;\n          -ms-grid-row-align: stretch;\n          align-self: stretch;\n}\n.admin-tag-view .tag-wrap, .admin-tag-view .article-wrap {\n    padding: 20px;\n    width: 100%;\n    -webkit-box-flex: 1;\n        -ms-flex: 1;\n            flex: 1;\n}\n.admin-tag-view .tag-wrap h1, .admin-tag-view .article-wrap h1 {\n      margin-bottom: 10px;\n}\n.admin-tag-view .article-wrap {\n    background-color: #e5e5e5;\n}\n'],sourceRoot:""}])},291:function(t,a,n){var i=n(273);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(196)("6bf566c5",i,!0)},544:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"admin-tag-view"},[n("aside",{staticClass:"aside"},[n("div",{staticClass:"radius-btn blue",on:{click:function(a){t.openModal("add")}}},[n("Icon",{attrs:{name:"plus",size:24}})],1),t._v(" "),n("div",{staticClass:"radius-btn yellow",on:{click:function(a){t.openModal("edit")}}},[n("Icon",{attrs:{name:"post",size:24}})],1),t._v(" "),n("div",{staticClass:"radius-btn red",on:{click:t.minusClick}},[n("Icon",{attrs:{name:"delete",size:24}})],1)]),t._v(" "),n("div",{staticClass:"admin-main"},[t.list.length?[n("div",{staticClass:"tag-wrap"},[n("h1",[t._v("所有标签")]),t._v(" "),n("div",{staticClass:"tag-group"},t._l(t.list,function(a,i){return n("div",{class:["tag-badge",{active:t.active===i}],on:{click:function(a){t.clickTag(i)}}},[t._v("\n            "+t._s(a.name)+"\n            "+t._s(a.count)+"\n          ")])}))]),t._v(" "),n("div",{staticClass:"article-wrap"},[n("h1",[t._v("该标签下的文章")]),t._v(" "),n("div",{staticClass:"tag-group"},t._l(t.articles,function(a,i){return n("a",{key:i,attrs:{href:"/article/"+a._id,target:"_blank"}},[t._v("\n            # "+t._s(a.title)+" ("+t._s(a.release?"已发布":"未发布")+")\n          ")])}))])]:n("div",[t._v("暂无标签")])],2),t._v(" "),n("Modal",{attrs:{"class-name":"tag-modal"},model:{value:t.addModalShow,callback:function(a){t.addModalShow=a},expression:"addModalShow"}},[n("Input",{attrs:{label:"标签名字"},model:{value:t.name,callback:function(a){t.name=a},expression:"name"}}),t._v(" "),"add"===t.type?n("Btn",{on:{click:t.addTag}},[t._v("OK")]):t._e(),t._v(" "),"edit"===t.type?n("Btn",{on:{click:t.editTag}},[t._v("OK")]):t._e()],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=11.ae8ab77773bc12a59b3d.js.map