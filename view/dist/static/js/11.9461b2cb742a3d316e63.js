webpackJsonp([11],{202:function(a,t,i){i(291);var n=i(0)(i(248),i(544),null,null);a.exports=n.exports},248:function(a,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"admin-tag",data:function(){return{type:"add",addModalShow:!1,active:null,list:[],name:""}},computed:{activeTag:function(){return this.list.length&&null!==this.active?this.list[this.active].name:""},articles:function(){return null!==this.active?this.list[this.active].article:null}},methods:{getTags:function(){var a=this;this.$graphql.query("\n        tags {\n          ...tag\n        }\n      ",["tag"]).then(function(t){a.list=t}).catch(function(t){return a.$toast(t.message,"error")})},addTag:function(){var a=this;this.$graphql.mutation("\n        addTag ($name) {\n          ...tag\n        }\n      ",{name:this.name},["tag"]).then(function(t){a.$toast("添加成功","success"),a.addModalShow=!1,a.getTags()}).catch(function(t){return a.$toast(t.message,"error")})},editTag:function(){var a=this;this.$graphql.mutation("\n        updateTag ($id, $name) {\n          ...tag\n        }\n      ",{id:this.list[this.active]._id,name:this.name},["tag"]).then(function(t){a.$toast("添加成功","success"),a.addModalShow=!1,a.list=t}).catch(function(t){return a.$toast(t.message,"error")})},removeTag:function(){var a=this;this.$graphql.mutation("\n        removeTag ($name) {\n          ...tag\n        }\n      ",{name:this.activeTag},["tag"]).then(function(t){a.$toast("删除成功","success"),a.active=null,a.list=t}).catch(function(t){return a.$toast(t.message,"error")})},clickTag:function(a){this.active=a===this.active?null:a},minusClick:function(){if(!this.activeTag)return this.$toast("请先选中一个标签","warning");this.$prompt("确定删除该标签吗？",this.removeTag)},openModal:function(a){if("edit"===a){if(null===this.active)return this.$toast("请选中一个需要编辑的标签","warning");var t=this.list[this.active].name;this.name=t}else this.name="";this.type=a,this.addModalShow=!0}},mounted:function(){this.getTags()}}},273:function(a,t,i){t=a.exports=i(195)(!0),t.push([a.i,".admin-tag-view{position:relative;-webkit-box-flex:1;-ms-flex:1;flex:1;margin:20px 0;display:-webkit-box;display:-ms-flexbox;display:flex}.admin-tag-view .tag-badge{display:inline-block;padding:5px 12px;border:2px solid #ccc;border-radius:20px;cursor:pointer;transition:all .3s;margin-right:10px}.admin-tag-view .tag-badge:hover{border-color:#a6a6a6}.admin-tag-view .tag-badge.active{color:#3da8f5;border-color:#3da8f5}.admin-tag-view .admin-main{-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline}.admin-tag-view .admin-main,.admin-tag-view .tag-modal{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.admin-tag-view .tag-modal{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.admin-tag-view .tag-modal button{margin-top:20px;-ms-flex-item-align:stretch;-ms-grid-row-align:stretch;align-self:stretch}.admin-tag-view .article-wrap,.admin-tag-view .tag-wrap{padding:20px;width:100%;-webkit-box-flex:1;-ms-flex:1;flex:1}.admin-tag-view .article-wrap h1,.admin-tag-view .tag-wrap h1{margin-bottom:10px}.admin-tag-view .article-wrap .article-link,.admin-tag-view .tag-wrap .article-link{display:block;margin-bottom:10px}.admin-tag-view .article-wrap .article-link.release,.admin-tag-view .tag-wrap .article-link.release{color:#00b281}.admin-tag-view .article-wrap{background-color:#e5e5e5}","",{version:3,sources:["/Users/mac/Desktop/mine/NightCat/view/src/views/admin/tag.vue"],names:[],mappings:"AAKA,gBACE,kBAAmB,AACnB,mBAAoB,AAChB,WAAY,AACR,OAAQ,AAChB,cAAe,AACf,oBAAqB,AACrB,oBAAqB,AACrB,YAAc,CACf,AACD,2BACI,qBAAsB,AACtB,iBAAkB,AAClB,sBAAuB,AACvB,mBAAoB,AACpB,eAAgB,AAChB,mBAAoB,AACpB,iBAAmB,CACtB,AACD,iCACM,oBAAsB,CAC3B,AACD,kCACM,cAAe,AACf,oBAAsB,CAC3B,AACD,4BAKI,2BAA4B,AACxB,wBAAyB,AACrB,oBAAsB,CACjC,AACD,uDARI,4BAA6B,AAC7B,6BAA8B,AAC1B,0BAA2B,AACvB,qBAAuB,CAmBlC,AAdD,2BACI,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AAKd,wBAAyB,AACrB,qBAAsB,AAClB,uBAAwB,AAChC,yBAA0B,AACtB,sBAAuB,AACnB,kBAAoB,CAC/B,AACD,kCACM,gBAAiB,AACjB,4BAA6B,AACzB,2BAA4B,AAC5B,kBAAoB,CAC7B,AACD,wDACI,aAAc,AACd,WAAY,AACZ,mBAAoB,AAChB,WAAY,AACR,MAAQ,CACnB,AACD,8DACM,kBAAoB,CACzB,AACD,oFACM,cAAe,AACf,kBAAoB,CACzB,AACD,oGACQ,aAAe,CACtB,AACD,8BACI,wBAA0B,CAC7B",file:"tag.vue",sourcesContent:['\n@charset "UTF-8";\n/*\n * 基础色\n */\n.admin-tag-view {\n  position: relative;\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  margin: 20px 0;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n}\n.admin-tag-view .tag-badge {\n    display: inline-block;\n    padding: 5px 12px;\n    border: 2px solid #ccc;\n    border-radius: 20px;\n    cursor: pointer;\n    transition: all .3s;\n    margin-right: 10px;\n}\n.admin-tag-view .tag-badge:hover {\n      border-color: #a6a6a6;\n}\n.admin-tag-view .tag-badge.active {\n      color: #3da8f5;\n      border-color: #3da8f5;\n}\n.admin-tag-view .admin-main {\n    -webkit-box-orient: vertical;\n    -webkit-box-direction: normal;\n        -ms-flex-direction: column;\n            flex-direction: column;\n    -webkit-box-align: baseline;\n        -ms-flex-align: baseline;\n            align-items: baseline;\n}\n.admin-tag-view .tag-modal {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-orient: vertical;\n    -webkit-box-direction: normal;\n        -ms-flex-direction: column;\n            flex-direction: column;\n    -webkit-box-pack: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n}\n.admin-tag-view .tag-modal button {\n      margin-top: 20px;\n      -ms-flex-item-align: stretch;\n          -ms-grid-row-align: stretch;\n          align-self: stretch;\n}\n.admin-tag-view .tag-wrap, .admin-tag-view .article-wrap {\n    padding: 20px;\n    width: 100%;\n    -webkit-box-flex: 1;\n        -ms-flex: 1;\n            flex: 1;\n}\n.admin-tag-view .tag-wrap h1, .admin-tag-view .article-wrap h1 {\n      margin-bottom: 10px;\n}\n.admin-tag-view .tag-wrap .article-link, .admin-tag-view .article-wrap .article-link {\n      display: block;\n      margin-bottom: 10px;\n}\n.admin-tag-view .tag-wrap .article-link.release, .admin-tag-view .article-wrap .article-link.release {\n        color: #00B281;\n}\n.admin-tag-view .article-wrap {\n    background-color: #e5e5e5;\n}\n'],sourceRoot:""}])},291:function(a,t,i){var n=i(273);"string"==typeof n&&(n=[[a.i,n,""]]),n.locals&&(a.exports=n.locals);i(196)("6bf566c5",n,!0)},544:function(a,t){a.exports={render:function(){var a=this,t=a.$createElement,i=a._self._c||t;return i("div",{staticClass:"admin-tag-view"},[i("aside",{staticClass:"aside"},[i("div",{staticClass:"radius-btn blue",on:{click:function(t){a.openModal("add")}}},[i("Icon",{attrs:{name:"plus",size:24}})],1),a._v(" "),i("div",{staticClass:"radius-btn yellow",on:{click:function(t){a.openModal("edit")}}},[i("Icon",{attrs:{name:"post",size:24}})],1),a._v(" "),i("div",{staticClass:"radius-btn red",on:{click:a.minusClick}},[i("Icon",{attrs:{name:"delete",size:24}})],1)]),a._v(" "),i("div",{staticClass:"admin-main"},[a.list.length?[i("div",{staticClass:"tag-wrap"},[i("h1",[a._v("所有标签")]),a._v(" "),i("div",{staticClass:"tag-group"},a._l(a.list,function(t,n){return i("div",{class:["tag-badge",{active:a.active===n}],on:{click:function(t){a.clickTag(n)}}},[a._v("\n            "+a._s(t.name)+"\n            "+a._s(t.count)+"\n          ")])}))]),a._v(" "),i("div",{staticClass:"article-wrap"},[i("h1",[a._v("该标签下的文章")]),a._v(" "),i("div",{staticClass:"tag-group"},a._l(a.articles,function(t,n){return i("a",{key:n,class:["article-link",{release:t.release}],attrs:{href:"/article/"+t._id,target:"_blank"}},[a._v("\n            # "+a._s(t.title)+" ("+a._s(t.release?"已发布":"未发布")+")\n          ")])}))])]:i("div",[a._v("暂无标签")])],2),a._v(" "),i("Modal",{attrs:{"class-name":"tag-modal"},model:{value:a.addModalShow,callback:function(t){a.addModalShow=t},expression:"addModalShow"}},[i("Input",{attrs:{label:"标签名字"},model:{value:a.name,callback:function(t){a.name=t},expression:"name"}}),a._v(" "),"add"===a.type?i("Btn",{on:{click:a.addTag}},[a._v("OK")]):a._e(),a._v(" "),"edit"===a.type?i("Btn",{on:{click:a.editTag}},[a._v("OK")]):a._e()],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=11.9461b2cb742a3d316e63.js.map