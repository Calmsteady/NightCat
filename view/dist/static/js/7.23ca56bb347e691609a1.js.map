{"version":3,"sources":["webpack:///static/js/7.23ca56bb347e691609a1.js","webpack:///./src/views/fe/user.vue","webpack:///user.vue?0702","webpack:///./src/views/fe/user.vue?1979","webpack:///./src/views/fe/user.vue?f786","webpack:///./src/views/fe/user.vue?2c83"],"names":["webpackJsonp","211","module","exports","__webpack_require__","Component","253","__webpack_exports__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","n","name","data","userInfo","computed","user","this","$store","state","account","$route","params","isSelf","methods","getUser","_this","$graphql","query","then","res","$toast","catch","err","message","updateUser","_this2","_userInfo","profile","website","github","location","avatar","mutation","commit","bindEmail","_this3","_userInfo2","email","$http","post","uploadAvatar","e","_this4","file","target","files","reader","FileReader","onload","compress","result","readAsDataURL","src","a","resolve","opt","width","height","quality","img","Image","canvas","document","createElement","cxt","getContext","size","x","y","base","drawImage","toDataURL","mounted","275","push","i","version","sources","names","mappings","sourcesContent","sourceRoot","293","content","locals","546","render","_vm","_h","$createElement","_c","_self","staticClass","_v","attrs","for","directives","rawName","expression","id","disabled","domProps","on","input","$event","composing","_e","click","alt","type","accept","change","staticRenderFns"],"mappings":"AAAAA,cAAc,IAERC,IACA,SAAUC,EAAQC,EAASC,GCDjCA,EAAA,IAEA,IAAAC,GAAAD,EAAA,GAEAA,EAAA,KAEAA,EAAA,KAEA,KAEA,KAGAF,GAAAC,QAAAE,EAAAF,SDUMG,IACA,SAAUJ,EAAQK,EAAqBH,GAE7C,YACAI,QAAOC,eAAeF,EAAqB,cAAgBG,OAAO,GAC7C,IAAIC,GAA8DP,EAAoB,IAClFQ,EAAsER,EAAoBS,EAAEF,EE2BrHJ,GAAA,SFtBEO,KEwBF,OFvBEC,KAAM,WACJ,OACEC,SEyBN,OFrBEC,UACEC,KAAM,WACJ,MAAOC,MAAKC,OAAOC,MEuBzBH,MFrBII,QAAS,WACP,MAAOH,MAAKI,OAAOC,OAAOF,SEuBhC,IFrBIG,OAAQ,WACN,OAAON,KAAKG,SAAUH,KAAKG,UAAYH,KAAKD,KAAKI,UAGrDI,SACEC,QAAS,WEuBb,GAAAC,GAAAT,IFpBMA,MAAKU,SEwBXC,MAAA,qEFvBQR,QAASH,KEyBjBG,UACA,SAAAS,KAAA,SAAAC,GFxBQ,IAAKA,EACH,MAAOJ,GAAMK,OAAO,SE0B9B,QFxBQL,GAAMZ,SE0BdgB,IACAE,MAAA,SAAAC,GFzBQ,MAAOP,GAAMK,OAAOE,EAAIC,QE0BhC,YFvBIC,WAAY,WEyBhB,GAAAC,GAAAnB,KFtBUoB,EAAYpB,KEuBtBH,SFtBUwB,EAAUD,EAAUC,QACpBC,EAAUF,EAAUE,QACpBC,EAASH,EAAUG,OACnBC,EAAWJ,EAAUI,SACrBC,EAASL,EAAUK,MAEvBzB,MAAKU,SEoBXgB,SAAA,kHAEAD,SACAJ,UACAC,UACAC,SACAC,aACA,SAAAZ,KAAA,SAAAC,GFpBQM,EAAOL,OAAO,OEsBtB,WFrBQK,EAAOlB,OAAO0B,OAAO,eAAgBd,EEsB7CY,UACAV,MAAA,SAAAC,GFrBQ,MAAOG,GAAOL,OAAOE,EAAIC,QEsBjC,YFnBIW,UAAW,WEqBf,GAAAC,GAAA7B,KFlBU8B,EAAa9B,KEmBvBH,SFlBUM,EAAU2B,EAAW3B,QACrB4B,EAAQD,EAAWC,KAEvB/B,MAAKgC,MAAMC,KAAK,oBEiBtB9B,UAEA4B,UAHAnB,KAAA,SAAAC,GFZQgB,EAAOf,OAAO,eEiBtB,aACAC,MAAA,SAAAC,GFhBQa,EAAOf,OAAOE,EAAIC,QEkB1B,YFfIiB,aAAc,SAAsBC,GEkBxC,GAAAC,GAAApC,KFfUqC,EAAOF,EAAEG,OAAOC,MEiB1B,EFfM,KAAKF,EACH,OEgBR,CFbM,IAAIG,GAAS,GEgBnBC,WFfMD,GAAOE,OAAS,SAAUP,GACxBC,EAAOO,SAASR,EAAEG,OAAOM,QAAQhC,KAAK,SAAUa,GAC9CW,EAAOvC,SAAS4B,OEgB1BA,KFZMe,EAAOK,cEgBbR,IFdIM,SAAU,SAAkBG,GAC1B,MAAO,IAAIrD,GAAoEsD,EAAE,SAAUC,GACzF,GAAIC,IACFC,MEiBV,IFhBUC,OEiBV,IFhBUC,QEmBV,KFhBYC,EAAM,GEiBlBC,OFhBYC,EAASC,SAASC,cEiB9B,SFhBQF,GAAOL,MAAQD,EEiBvBC,MFhBQK,EAAOJ,OAASF,EEiBxBE,MFhBQ,IAAIO,GAAMH,EAAOI,WEkBzB,KFhBQN,GAAIX,OAAS,WACX,GAAIkB,IAAQP,EAAIH,MAAOG,EEkBjCF,QFhBcU,MAAI,GACJC,MAAI,GEgBlBC,MAAA,EFdcH,GAAK,GAAKA,EAAK,IACjBE,EEeZ,EFdYD,GAAKD,EAAK,GAAKA,EAAK,IEehC,EFdYG,EAAOH,EEenB,KFbYC,EEgBZ,EFfYC,GAAKF,EAAK,GAAKA,EAAK,IEgBhC,EFfYG,EAAOH,EEgBnB,IFdUF,EAAIM,UAAUX,EAAKQ,EAAGC,EAAGC,EAAMA,EAAM,EAAG,EAAGd,EAAIC,MAAOD,EEgBhEE,QFfUH,EAAQO,EAAOU,UAAU,aAAchB,EEgBjDG,WFbQC,EAAIP,IEgBZA,MFZEoB,QAAS,WACPlE,KEgBJQ,aFVM2D,IACA,SAAUpF,EAAQC,EAASC,GG3KjCD,EAAAD,EAAAC,QAAAC,EAAA,SAKAD,EAAAoF,MAAArF,EAAAsF,EAAA,ssFAA6tF,IAAQC,QAAA,EAAAC,SAAA,+DAAAC,SAAAC,SAAA,y3CAAApC,KAAA,WAAAqC,gBAAA,y6HAA+6KC,WAAA,OHoL9oQC,IACA,SAAU7F,EAAQC,EAASC,GIvLjC,GAAA4F,GAAA5F,EAAA,IACA,iBAAA4F,SAAA9F,EAAAsF,EAAAQ,EAAA,MACAA,EAAAC,SAAA/F,EAAAC,QAAA6F,EAAAC,OAEA7F,GAAA,gBAAA4F,GAAA,IJgMME,IACA,SAAUhG,EAAQC,GKxMxBD,EAAAC,SAAgBgG,OAAA,WAAmB,GAAAC,GAAAjF,KAAakF,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,CAC1E,OAAAE,GAAA,OACAE,YAAA,cACGL,EAAA,SAAAG,EAAA,OACHE,YAAA,eACGF,EAAA,OACHE,YAAA,cACGF,EAAA,MACHE,YAAA,UACGL,EAAAM,GAAA,UAAAN,EAAAM,GAAA,KAAAH,EAAA,OACHE,YAAA,mBACGF,EAAA,SACHI,OACAC,IAAA,aAEGR,EAAAM,GAAA,SAAAN,EAAAM,GAAA,KAAAH,EAAA,SACHM,aACA/F,KAAA,QACAgG,QAAA,UACApG,MAAA0F,EAAApF,SAAA,QACA+F,WAAA,qBAEAJ,OACAK,GAAA,UACAC,SAAA,IAEAC,UACAxG,MAAA0F,EAAApF,SAAA,SAEAmG,IACAC,MAAA,SAAAC,GACAA,EAAA5D,OAAA6D,YACAlB,EAAApF,SAAAM,QAAA+F,EAAA5D,OAAA/C,aAGG0F,EAAAM,GAAA,KAAAN,EAAA3E,OA0BA2E,EAAAmB,KA1BAhB,EAAA,OACHE,YAAA,mBACGF,EAAA,SACHI,OACAC,IAAA,WAEGR,EAAAM,GAAA,SAAAN,EAAAM,GAAA,KAAAH,EAAA,SACHM,aACA/F,KAAA,QACAgG,QAAA,UACApG,MAAA0F,EAAApF,SAAA,MACA+F,WAAA,mBAEAJ,OACAK,GAAA,QACAC,SAAA,IAEAC,UACAxG,MAAA0F,EAAApF,SAAA,OAEAmG,IACAC,MAAA,SAAAC,GACAA,EAAA5D,OAAA6D,YACAlB,EAAApF,SAAAkC,MAAAmE,EAAA5D,OAAA/C,aAGG0F,EAAAM,GAAA,KAAAH,EAAA,OACHE,YAAA,mBACGF,EAAA,SACHI,OACAC,IAAA,aAEGR,EAAAM,GAAA,SAAAN,EAAAM,GAAA,KAAAH,EAAA,SACHM,aACA/F,KAAA,QACAgG,QAAA,UACApG,MAAA0F,EAAApF,SAAA,QACA+F,WAAA,qBAEAJ,OACAK,GAAA,UACAC,UAAAb,EAAA3E,QAEAyF,UACAxG,MAAA0F,EAAApF,SAAA,SAEAmG,IACAC,MAAA,SAAAC,GACAA,EAAA5D,OAAA6D,YACAlB,EAAApF,SAAAwB,QAAA6E,EAAA5D,OAAA/C,aAGG0F,EAAAM,GAAA,KAAAH,EAAA,OACHE,YAAA,mBACGF,EAAA,SACHI,OACAC,IAAA,cAEGR,EAAAM,GAAA,SAAAN,EAAAM,GAAA,KAAAH,EAAA,SACHM,aACA/F,KAAA,QACAgG,QAAA,UACApG,MAAA0F,EAAApF,SAAA,SACA+F,WAAA,sBAEAJ,OACAK,GAAA,WACAC,UAAAb,EAAA3E,QAEAyF,UACAxG,MAAA0F,EAAApF,SAAA,UAEAmG,IACAC,MAAA,SAAAC,GACAA,EAAA5D,OAAA6D,YACAlB,EAAApF,SAAA2B,SAAA0E,EAAA5D,OAAA/C,aAGG0F,EAAAM,GAAA,KAAAH,EAAA,OACHE,YAAA,mBACGF,EAAA,SACHI,OACAC,IAAA,YAEGR,EAAAM,GAAA,aAAAN,EAAAM,GAAA,KAAAH,EAAA,SACHM,aACA/F,KAAA,QACAgG,QAAA,UACApG,MAAA0F,EAAApF,SAAA,OACA+F,WAAA,oBAEAJ,OACAK,GAAA,SACAC,UAAAb,EAAA3E,QAEAyF,UACAxG,MAAA0F,EAAApF,SAAA,QAEAmG,IACAC,MAAA,SAAAC,GACAA,EAAA5D,OAAA6D,YACAlB,EAAApF,SAAA0B,OAAA2E,EAAA5D,OAAA/C,aAGG0F,EAAAM,GAAA,KAAAH,EAAA,OACHE,YAAA,mBACGF,EAAA,SACHI,OACAC,IAAA,aAEGR,EAAAM,GAAA,SAAAN,EAAAM,GAAA,KAAAH,EAAA,SACHM,aACA/F,KAAA,QACAgG,QAAA,UACApG,MAAA0F,EAAApF,SAAA,QACA+F,WAAA,qBAEAJ,OACAK,GAAA,UACAC,UAAAb,EAAA3E,QAEAyF,UACAxG,MAAA0F,EAAApF,SAAA,SAEAmG,IACAC,MAAA,SAAAC,GACAA,EAAA5D,OAAA6D,YACAlB,EAAApF,SAAAyB,QAAA4E,EAAA5D,OAAA/C,aAGG0F,EAAAM,GAAA,KAAAN,EAAA,OAAAG,EAAA,OACHE,YAAA,WACAU,IACAK,MAAApB,EAAA/D,cAEG+D,EAAAM,GAAA,UAAAN,EAAAmB,KAAAnB,EAAAM,GAAA,KAAAN,EAAA,QAAAG,EAAA,MACHE,YAAA,UACGL,EAAAM,GAAA,UAAAN,EAAAM,GAAA,KAAAH,EAAA,OACHE,YAAA,mBACGL,EAAA,OAAAG,EAAA,OACHE,YAAA,iBACGF,EAAA,SACHM,aACA/F,KAAA,QACAgG,QAAA,UACApG,MAAA0F,EAAApF,SAAA,MACA+F,WAAA,mBAEAJ,OACAK,GAAA,SAEAE,UACAxG,MAAA0F,EAAApF,SAAA,OAEAmG,IACAC,MAAA,SAAAC,GACAA,EAAA5D,OAAA6D,YACAlB,EAAApF,SAAAkC,MAAAmE,EAAA5D,OAAA/C,WAGG0F,EAAAM,GAAA,KAAAH,EAAA,OACHE,YAAA,WACAU,IACAK,MAAApB,EAAArD,aAEGqD,EAAAM,GAAA,cAAAH,EAAA,SACHM,aACA/F,KAAA,QACAgG,QAAA,UACApG,MAAA0F,EAAApF,SAAA,MACA+F,WAAA,mBAEAJ,OACAK,GAAA,QACAC,SAAA,IAEAC,UACAxG,MAAA0F,EAAApF,SAAA,OAEAmG,IACAC,MAAA,SAAAC,GACAA,EAAA5D,OAAA6D,YACAlB,EAAApF,SAAAkC,MAAAmE,EAAA5D,OAAA/C,cAGG0F,EAAAmB,MAAA,GAAAnB,EAAAM,GAAA,KAAAH,EAAA,OACHE,YAAA,gBACGF,EAAA,MACHE,YAAA,UACGL,EAAAM,GAAA,QAAAN,EAAAM,GAAA,KAAAH,EAAA,OACHE,YAAA,SACAE,OACA1C,IAAAmC,EAAApF,SAAA4B,OACA6E,IAAA,YAEGrB,EAAAM,GAAA,KAAAH,EAAA,QACHE,YAAA,kBACGL,EAAA,OAAAG,EAAA,OACHE,YAAA,wBACGL,EAAAM,GAAA,WAAAN,EAAAmB,KAAAnB,EAAAM,GAAA,KAAAH,EAAA,SACHE,YAAA,eACAE,OACAe,KAAA,OACAC,OAAA,WAEAR,IACAS,OAAAxB,EAAA/C,iBAEG,OAAAkD,EAAA,OACHE,YAAA,YACGL,EAAAM,GAAA,wBACFmB","file":"static/js/7.23ca56bb347e691609a1.js","sourcesContent":["webpackJsonp([7],{\n\n/***/ 211:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(293)\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(253),\n  /* template */\n  __webpack_require__(546),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 253:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__ = __webpack_require__(33);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__);\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'user',\n  data: function data() {\n    return {\n      userInfo: null\n    };\n  },\n\n  computed: {\n    user: function user() {\n      return this.$store.state.user;\n    },\n    account: function account() {\n      return this.$route.params.account || '';\n    },\n    isSelf: function isSelf() {\n      return this.account ? this.account === this.user.account : true;\n    }\n  },\n  methods: {\n    getUser: function getUser() {\n      var _this = this;\n\n      this.$graphql.query('\\n        user ($account) {\\n          ...user\\n        }\\n      ', {\n        account: this.account\n      }, ['user']).then(function (res) {\n        if (!res) {\n          return _this.$toast('未找到该用户', 'error');\n        }\n        _this.userInfo = res;\n      }).catch(function (err) {\n        return _this.$toast(err.message, 'error');\n      });\n    },\n    updateUser: function updateUser() {\n      var _this2 = this;\n\n      var _userInfo = this.userInfo,\n          profile = _userInfo.profile,\n          website = _userInfo.website,\n          github = _userInfo.github,\n          location = _userInfo.location,\n          avatar = _userInfo.avatar;\n\n      this.$graphql.mutation('\\n        updateUser ($profile, $website, $github, $location, $avatar) {\\n          ...user\\n        }\\n      ', {\n        avatar: avatar,\n        profile: profile,\n        website: website,\n        github: github,\n        location: location\n      }, ['user']).then(function (res) {\n        _this2.$toast('保存成功', 'success');\n        _this2.$store.commit('updateAvatar', res.avatar);\n      }).catch(function (err) {\n        return _this2.$toast(err.message, 'error');\n      });\n    },\n    bindEmail: function bindEmail() {\n      var _this3 = this;\n\n      var _userInfo2 = this.userInfo,\n          account = _userInfo2.account,\n          email = _userInfo2.email;\n\n      this.$http.post('/sendSignupEmail', {\n        account: account,\n        email: email\n      }).then(function (res) {\n        _this3.$toast('已向注册邮箱发送激活邮件', 'success');\n      }).catch(function (err) {\n        _this3.$toast(err.message, 'error');\n      });\n    },\n    uploadAvatar: function uploadAvatar(e) {\n      var _this4 = this;\n\n      var file = e.target.files[0];\n\n      if (!file) {\n        return false;\n      }\n\n      var reader = new FileReader();\n      reader.onload = function (e) {\n        _this4.compress(e.target.result).then(function (avatar) {\n          _this4.userInfo.avatar = avatar;\n        });\n      };\n\n      reader.readAsDataURL(file);\n    },\n    compress: function compress(src) {\n      return new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a(function (resolve) {\n        var opt = {\n          width: 168,\n          height: 168,\n          quality: 0.92\n        };\n\n        var img = new Image();\n        var canvas = document.createElement('CANVAS');\n        canvas.width = opt.width;\n        canvas.height = opt.height;\n        var cxt = canvas.getContext('2d');\n\n        img.onload = function () {\n          var size = [img.width, img.height];\n\n          var x = void 0,\n              y = void 0,\n              base = void 0;\n          if (size[0] > size[1]) {\n            y = 0;\n            x = (size[0] - size[1]) / 2;\n            base = size[1];\n          } else {\n            x = 0;\n            y = (size[1] - size[0]) / 2;\n            base = size[0];\n          }\n          cxt.drawImage(img, x, y, base, base, 0, 0, opt.width, opt.height);\n          resolve(canvas.toDataURL('image/jpeg', opt.quality));\n        };\n\n        img.src = src;\n      });\n    }\n  },\n  mounted: function mounted() {\n    this.getUser();\n  }\n});\n\n/***/ }),\n\n/***/ 275:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(195)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".user-view{min-height:100vh;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;overflow:hidden}.user-view,.user-view .user-group{display:-webkit-box;display:-ms-flexbox;display:flex}.user-view .user-group{width:800px;padding:20px;margin:200px 0}.user-view .user-group .title{margin-bottom:12px}.user-view .user-info{-webkit-box-flex:1;-ms-flex:1;flex:1;margin-right:120px;flex-direction:column}.user-view .user-info,.user-view .user-info .user-info-item{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column}.user-view .user-info .user-info-item{position:relative;margin-bottom:15px;flex-direction:column}.user-view .user-info .user-info-item label{width:70px;font-size:14px;margin-bottom:5px}.user-view .user-info .user-info-item input{width:100%;height:34px;padding:6px 8px;font-size:14px;color:#333;line-height:20px;vertical-align:middle;background-color:#fafafa;border:1px solid #ddd;border-radius:4px;box-shadow:inset 0 1px 2px rgba(0,0,0,.075)}.user-view .user-info .user-info-item input:focus{border-color:#51a7e8;outline:none;box-shadow:inset 0 1px 2px rgba(0,0,0,.075),0 0 5px rgba(81,167,232,.5)}.user-view .user-info .user-info-item input[disabled]{opacity:.75;background-color:#f1f1f1}.user-view .user-info .user-info-item .has-btn-item{display:-webkit-box;display:-ms-flexbox;display:flex}.user-view .user-info .user-info-item .has-btn-item input{border-radius:3px 0 0 3px}.user-view .user-info .user-info-item .has-btn-item button{border-radius:0 3px 3px 0}.user-view .user-avatar{width:168px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.user-view .user-avatar .avatar{width:168px;height:168px;border-radius:3px;margin-bottom:10px}.user-view .save-btn{-ms-flex-item-align:start;align-self:flex-start;padding:0 20px;margin-bottom:40px;border:none;color:#fff;background-color:#eee;background-image:linear-gradient(-180deg,#4dc9a7,#00a074)}.user-view .save-btn:active{box-shadow:inset 0 4px 10px rgba(0,0,0,.25)}.user-view .user-btn{padding:0 20px;color:#333;background-color:#eff3f6;background-image:linear-gradient(-180deg,#fafbfc,#eff3f6 90%)}.user-view .user-btn:active{box-shadow:inset 0 2px 5px rgba(0,0,0,.15)}.user-view .no-user{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:40px}.user-view .upload-avatar{position:relative}.user-view .upload-avatar button{width:100%}.user-view .upload-avatar .avatar-input{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0}\", \"\", {\"version\":3,\"sources\":[\"/Users/mac/Desktop/mine/NightCat/view/src/views/fe/user.vue\"],\"names\":[],\"mappings\":\"AAKA,WACE,iBAAkB,AAIlB,wBAAyB,AACrB,qBAAsB,AAClB,uBAAwB,AAChC,eAAiB,CAClB,AACD,kCARE,oBAAqB,AACrB,oBAAqB,AACrB,YAAc,CAaf,AAPD,uBAII,YAAa,AACb,aAAc,AACd,cAAgB,CACnB,AACD,8BACM,kBAAoB,CACzB,AACD,sBACI,mBAAoB,AAChB,WAAY,AACR,OAAQ,AAChB,mBAAoB,AAOZ,qBAAuB,CAClC,AACD,4DARI,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,4BAA6B,AAC7B,6BAA8B,AAC1B,yBAA2B,CAalC,AAVD,sCACM,kBAAmB,AACnB,mBAAoB,AAOZ,qBAAuB,CACpC,AACD,4CACQ,WAAY,AACZ,eAAgB,AAChB,iBAAmB,CAC1B,AACD,4CACQ,WAAY,AACZ,YAAa,AACb,gBAAiB,AACjB,eAAgB,AAChB,WAAY,AACZ,iBAAkB,AAClB,sBAAuB,AACvB,yBAA0B,AAC1B,sBAAuB,AACvB,kBAAmB,AACnB,2CAAiD,CACxD,AACD,kDACU,qBAAsB,AACtB,aAAc,AACd,uEAAkF,CAC3F,AACD,sDACU,YAAa,AACb,wBAA0B,CACnC,AACD,oDACQ,oBAAqB,AACrB,oBAAqB,AACrB,YAAc,CACrB,AACD,0DACU,yBAA2B,CACpC,AACD,2DACU,yBAA2B,CACpC,AACD,wBACI,YAAa,AACb,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,4BAA6B,AAC7B,6BAA8B,AAC1B,0BAA2B,AACvB,qBAAuB,CAClC,AACD,gCACM,YAAa,AACb,aAAc,AACd,kBAAmB,AACnB,kBAAoB,CACzB,AACD,qBACI,0BAA2B,AACvB,sBAAuB,AAC3B,eAAgB,AAChB,mBAAoB,AACpB,YAAa,AACb,WAAY,AACZ,sBAAuB,AACvB,yDAAqE,CACxE,AACD,4BACM,2CAAiD,CACtD,AACD,qBACI,eAAgB,AAChB,WAAY,AACZ,yBAA0B,AAC1B,6DAAoE,CACvE,AACD,4BACM,0CAAgD,CACrD,AACD,oBACI,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,wBAAyB,AACrB,qBAAsB,AAClB,uBAAwB,AAChC,yBAA0B,AACtB,sBAAuB,AACnB,mBAAoB,AAC5B,cAAgB,CACnB,AACD,0BACI,iBAAmB,CACtB,AACD,iCACM,UAAY,CACjB,AACD,wCACM,kBAAmB,AACnB,MAAO,AACP,OAAQ,AACR,WAAY,AACZ,YAAa,AACb,SAAW,CAChB\",\"file\":\"user.vue\",\"sourcesContent\":[\"\\n@charset \\\"UTF-8\\\";\\n/*\\n * 基础色\\n */\\n.user-view {\\n  min-height: 100vh;\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-pack: center;\\n      -ms-flex-pack: center;\\n          justify-content: center;\\n  overflow: hidden;\\n}\\n.user-view .user-group {\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    width: 800px;\\n    padding: 20px;\\n    margin: 200px 0;\\n}\\n.user-view .user-group .title {\\n      margin-bottom: 12px;\\n}\\n.user-view .user-info {\\n    -webkit-box-flex: 1;\\n        -ms-flex: 1;\\n            flex: 1;\\n    margin-right: 120px;\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    -webkit-box-orient: vertical;\\n    -webkit-box-direction: normal;\\n        -ms-flex-direction: column;\\n            flex-direction: column;\\n}\\n.user-view .user-info .user-info-item {\\n      position: relative;\\n      margin-bottom: 15px;\\n      display: -webkit-box;\\n      display: -ms-flexbox;\\n      display: flex;\\n      -webkit-box-orient: vertical;\\n      -webkit-box-direction: normal;\\n          -ms-flex-direction: column;\\n              flex-direction: column;\\n}\\n.user-view .user-info .user-info-item label {\\n        width: 70px;\\n        font-size: 14px;\\n        margin-bottom: 5px;\\n}\\n.user-view .user-info .user-info-item input {\\n        width: 100%;\\n        height: 34px;\\n        padding: 6px 8px;\\n        font-size: 14px;\\n        color: #333;\\n        line-height: 20px;\\n        vertical-align: middle;\\n        background-color: #fafafa;\\n        border: 1px solid #ddd;\\n        border-radius: 4px;\\n        box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.075);\\n}\\n.user-view .user-info .user-info-item input:focus {\\n          border-color: #51a7e8;\\n          outline: none;\\n          box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.075), 0 0 5px rgba(81, 167, 232, 0.5);\\n}\\n.user-view .user-info .user-info-item input[disabled] {\\n          opacity: .75;\\n          background-color: #f1f1f1;\\n}\\n.user-view .user-info .user-info-item .has-btn-item {\\n        display: -webkit-box;\\n        display: -ms-flexbox;\\n        display: flex;\\n}\\n.user-view .user-info .user-info-item .has-btn-item input {\\n          border-radius: 3px 0 0 3px;\\n}\\n.user-view .user-info .user-info-item .has-btn-item button {\\n          border-radius: 0 3px 3px 0;\\n}\\n.user-view .user-avatar {\\n    width: 168px;\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    -webkit-box-orient: vertical;\\n    -webkit-box-direction: normal;\\n        -ms-flex-direction: column;\\n            flex-direction: column;\\n}\\n.user-view .user-avatar .avatar {\\n      width: 168px;\\n      height: 168px;\\n      border-radius: 3px;\\n      margin-bottom: 10px;\\n}\\n.user-view .save-btn {\\n    -ms-flex-item-align: start;\\n        align-self: flex-start;\\n    padding: 0 20px;\\n    margin-bottom: 40px;\\n    border: none;\\n    color: #fff;\\n    background-color: #eee;\\n    background-image: linear-gradient(-180deg, #4dc9a7 0%, #00a074 100%);\\n}\\n.user-view .save-btn:active {\\n      box-shadow: inset 0 4px 10px rgba(0, 0, 0, 0.25);\\n}\\n.user-view .user-btn {\\n    padding: 0 20px;\\n    color: #333;\\n    background-color: #eff3f6;\\n    background-image: linear-gradient(-180deg, #fafbfc 0%, #eff3f6 90%);\\n}\\n.user-view .user-btn:active {\\n      box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.15);\\n}\\n.user-view .no-user {\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    -webkit-box-pack: center;\\n        -ms-flex-pack: center;\\n            justify-content: center;\\n    -webkit-box-align: center;\\n        -ms-flex-align: center;\\n            align-items: center;\\n    font-size: 40px;\\n}\\n.user-view .upload-avatar {\\n    position: relative;\\n}\\n.user-view .upload-avatar button {\\n      width: 100%;\\n}\\n.user-view .upload-avatar .avatar-input {\\n      position: absolute;\\n      top: 0;\\n      left: 0;\\n      width: 100%;\\n      height: 100%;\\n      opacity: 0;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 293:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(275);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(196)(\"428c87ea\", content, true);\n\n/***/ }),\n\n/***/ 546:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"user-view\"\n  }, [(_vm.userInfo) ? _c('div', {\n    staticClass: \"user-group\"\n  }, [_c('div', {\n    staticClass: \"user-info\"\n  }, [_c('h1', {\n    staticClass: \"title\"\n  }, [_vm._v(\"个人资料\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"user-info-item\"\n  }, [_c('label', {\n    attrs: {\n      \"for\": \"account\"\n    }\n  }, [_vm._v(\"账号：\")]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.userInfo.account),\n      expression: \"userInfo.account\"\n    }],\n    attrs: {\n      \"id\": \"account\",\n      \"disabled\": \"\"\n    },\n    domProps: {\n      \"value\": (_vm.userInfo.account)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.userInfo.account = $event.target.value\n      }\n    }\n  })]), _vm._v(\" \"), (!_vm.isSelf) ? _c('div', {\n    staticClass: \"user-info-item\"\n  }, [_c('label', {\n    attrs: {\n      \"for\": \"email\"\n    }\n  }, [_vm._v(\"邮箱：\")]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.userInfo.email),\n      expression: \"userInfo.email\"\n    }],\n    attrs: {\n      \"id\": \"email\",\n      \"disabled\": \"\"\n    },\n    domProps: {\n      \"value\": (_vm.userInfo.email)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.userInfo.email = $event.target.value\n      }\n    }\n  })]) : _vm._e(), _vm._v(\" \"), _c('div', {\n    staticClass: \"user-info-item\"\n  }, [_c('label', {\n    attrs: {\n      \"for\": \"profile\"\n    }\n  }, [_vm._v(\"概况：\")]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.userInfo.profile),\n      expression: \"userInfo.profile\"\n    }],\n    attrs: {\n      \"id\": \"profile\",\n      \"disabled\": !_vm.isSelf\n    },\n    domProps: {\n      \"value\": (_vm.userInfo.profile)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.userInfo.profile = $event.target.value\n      }\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"user-info-item\"\n  }, [_c('label', {\n    attrs: {\n      \"for\": \"location\"\n    }\n  }, [_vm._v(\"位置：\")]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.userInfo.location),\n      expression: \"userInfo.location\"\n    }],\n    attrs: {\n      \"id\": \"location\",\n      \"disabled\": !_vm.isSelf\n    },\n    domProps: {\n      \"value\": (_vm.userInfo.location)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.userInfo.location = $event.target.value\n      }\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"user-info-item\"\n  }, [_c('label', {\n    attrs: {\n      \"for\": \"github\"\n    }\n  }, [_vm._v(\"Github：\")]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.userInfo.github),\n      expression: \"userInfo.github\"\n    }],\n    attrs: {\n      \"id\": \"github\",\n      \"disabled\": !_vm.isSelf\n    },\n    domProps: {\n      \"value\": (_vm.userInfo.github)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.userInfo.github = $event.target.value\n      }\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"user-info-item\"\n  }, [_c('label', {\n    attrs: {\n      \"for\": \"website\"\n    }\n  }, [_vm._v(\"网站：\")]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.userInfo.website),\n      expression: \"userInfo.website\"\n    }],\n    attrs: {\n      \"id\": \"website\",\n      \"disabled\": !_vm.isSelf\n    },\n    domProps: {\n      \"value\": (_vm.userInfo.website)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.userInfo.website = $event.target.value\n      }\n    }\n  })]), _vm._v(\" \"), (_vm.isSelf) ? _c('Btn', {\n    staticClass: \"save-btn\",\n    on: {\n      \"click\": _vm.updateUser\n    }\n  }, [_vm._v(\"保存修改\")]) : _vm._e(), _vm._v(\" \"), (_vm.isSelf) ? [_c('h1', {\n    staticClass: \"title\"\n  }, [_vm._v(\"绑定邮箱\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"user-info-item\"\n  }, [(_vm.isSelf) ? _c('div', {\n    staticClass: \"has-btn-item\"\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.userInfo.email),\n      expression: \"userInfo.email\"\n    }],\n    attrs: {\n      \"id\": \"email\"\n    },\n    domProps: {\n      \"value\": (_vm.userInfo.email)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.userInfo.email = $event.target.value\n      }\n    }\n  }), _vm._v(\" \"), _c('Btn', {\n    staticClass: \"user-btn\",\n    on: {\n      \"click\": _vm.bindEmail\n    }\n  }, [_vm._v(\"绑定邮箱\")])], 1) : _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.userInfo.email),\n      expression: \"userInfo.email\"\n    }],\n    attrs: {\n      \"id\": \"email\",\n      \"disabled\": \"\"\n    },\n    domProps: {\n      \"value\": (_vm.userInfo.email)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.userInfo.email = $event.target.value\n      }\n    }\n  })])] : _vm._e()], 2), _vm._v(\" \"), _c('div', {\n    staticClass: \"user-avatar\"\n  }, [_c('h1', {\n    staticClass: \"title\"\n  }, [_vm._v(\"头像\")]), _vm._v(\" \"), _c('img', {\n    staticClass: \"avatar\",\n    attrs: {\n      \"src\": _vm.userInfo.avatar,\n      \"alt\": \"avatar\"\n    }\n  }), _vm._v(\" \"), _c('span', {\n    staticClass: \"upload-avatar\"\n  }, [(_vm.isSelf) ? _c('Btn', {\n    staticClass: \"user-btn upload-btn\"\n  }, [_vm._v(\"上传新头像\")]) : _vm._e(), _vm._v(\" \"), _c('input', {\n    staticClass: \"avatar-input\",\n    attrs: {\n      \"type\": \"file\",\n      \"accept\": \"image/*\"\n    },\n    on: {\n      \"change\": _vm.uploadAvatar\n    }\n  })], 1)])]) : _c('div', {\n    staticClass: \"no-user\"\n  }, [_vm._v(\"\\n    没有这个人\\n  \")])])\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/7.23ca56bb347e691609a1.js","\n/* styles */\nrequire(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-c672119a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./user.vue\")\n\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./user.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c672119a\\\"}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./user.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/fe/user.vue\n// module id = 211\n// module chunks = 7","<template>\n  <div class=\"user-view\">\n    <div v-if=\"userInfo\" class=\"user-group\">\n      <div class=\"user-info\">\n        <h1 class=\"title\">个人资料</h1>\n        <div class=\"user-info-item\">\n          <label for=\"account\">账号：</label>\n          <input id=\"account\" disabled v-model=\"userInfo.account\"></input>\n        </div>\n        <div v-if=\"!isSelf\" class=\"user-info-item\">\n          <label for=\"email\">邮箱：</label>\n          <input id=\"email\" disabled v-model=\"userInfo.email\"></input>\n        </div>\n        <div class=\"user-info-item\">\n          <label for=\"profile\">概况：</label>\n          <input id=\"profile\" :disabled=\"!isSelf\" v-model=\"userInfo.profile\"></input>\n        </div>\n        <div class=\"user-info-item\">\n          <label for=\"location\">位置：</label>\n          <input id=\"location\" :disabled=\"!isSelf\" v-model=\"userInfo.location\"></input>\n        </div>\n        <div class=\"user-info-item\">\n          <label for=\"github\">Github：</label>\n          <input id=\"github\" :disabled=\"!isSelf\" v-model=\"userInfo.github\"></input>\n        </div>\n        <div class=\"user-info-item\">\n          <label for=\"website\">网站：</label>\n          <input id=\"website\" :disabled=\"!isSelf\" v-model=\"userInfo.website\"></input>\n        </div>\n        <Btn v-if=\"isSelf\" class=\"save-btn\" @click=\"updateUser\">保存修改</Btn>\n\n        <template v-if=\"isSelf\">\n          <h1 class=\"title\">绑定邮箱</h1>\n          <div class=\"user-info-item\">\n            <div v-if=\"isSelf\" class=\"has-btn-item\">\n              <input id=\"email\" v-model=\"userInfo.email\"></input>\n              <Btn class=\"user-btn\" @click=\"bindEmail\">绑定邮箱</Btn>\n            </div>\n            <input v-else id=\"email\" disabled v-model=\"userInfo.email\"></input>\n          </div>\n        </template>\n      </div>\n      <div class=\"user-avatar\">\n        <h1 class=\"title\">头像</h1>\n        <img :src=\"userInfo.avatar\" alt=\"avatar\" class=\"avatar\" />\n        <span class=\"upload-avatar\">\n          <Btn v-if=\"isSelf\" class=\"user-btn upload-btn\">上传新头像</Btn>\n          <input class=\"avatar-input\" type=\"file\" accept=\"image/*\" @change=\"uploadAvatar\" />\n        </span>\n      </div>\n    </div>\n    <div v-else class=\"no-user\">\n      没有这个人\n    </div>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: 'user',\n    data () {\n      return {\n        userInfo: null\n      }\n    },\n    computed: {\n      user () {\n        return this.$store.state.user\n      },\n      account () {\n        return this.$route.params.account || ''\n      },\n      isSelf () {\n        return this.account ? this.account === this.user.account : true\n      }\n    },\n    methods: {\n      getUser () {\n        this.$graphql.query(`\n          user ($account) {\n            ...user\n          }\n        `, {\n          account: this.account\n        }, ['user'])\n        .then((res) => {\n          if (!res) {\n            return this.$toast('未找到该用户', 'error')\n          }\n          this.userInfo = res\n        })\n        .catch((err) => this.$toast(err.message, 'error'))\n      },\n      updateUser () {\n        let { profile, website, github, location, avatar } = this.userInfo\n        this.$graphql.mutation(`\n          updateUser ($profile, $website, $github, $location, $avatar) {\n            ...user\n          }\n        `, {\n          avatar,\n          profile,\n          website,\n          github,\n          location\n        }, ['user'])\n        .then((res) => {\n          this.$toast('保存成功', 'success')\n          this.$store.commit('updateAvatar', res.avatar)\n        })\n        .catch((err) => this.$toast(err.message, 'error'))\n      },\n      bindEmail () {\n        let { account, email } = this.userInfo\n        this.$http.post('/sendSignupEmail', {\n          account,\n          email\n        })\n        .then((res) => {\n          this.$toast('已向注册邮箱发送激活邮件', 'success')\n        })\n        .catch((err) => {\n          this.$toast(err.message, 'error')\n        })\n      },\n      uploadAvatar (e) {\n        let file = e.target.files[0]\n\n        if (!file) {\n          return false\n        }\n\n        let reader = new FileReader()\n        reader.onload = (e) => {\n          this.compress(e.target.result).then((avatar) => {\n            this.userInfo.avatar = avatar\n          })\n        }\n\n        reader.readAsDataURL(file)\n      },\n      compress (src) {\n        return new Promise((resolve) => {\n          /*  压缩配置  */\n          let opt = {\n            width: 168,\n            height: 168,\n            quality: 0.92\n          }\n\n          let img = new Image()\n          let canvas = document.createElement('CANVAS')\n          canvas.width = opt.width\n          canvas.height = opt.height\n          let cxt = canvas.getContext('2d')\n\n          img.onload = () => {\n            let size = [img.width, img.height]\n            /*  将长的方向进行裁剪  */\n            let x, y, base\n            if (size[0] > size[1]) {\n              y = 0\n              x = (size[0] - size[1]) / 2\n              base = size[1]\n            }\n            else {\n              x = 0\n              y = (size[1] - size[0]) / 2\n              base = size[0]\n            }\n            cxt.drawImage(img, x, y, base, base, 0, 0, opt.width, opt.height)\n            resolve(canvas.toDataURL('image/jpeg', opt.quality))\n          }\n\n          img.src = src\n        })\n      }\n    },\n    mounted () {\n      this.getUser()\n    }\n  }\n</script>\n\n<style lang=\"scss\">\n  @import '~style';\n\n  .user-view {\n    min-height: 100vh;\n    @include flex-main-center;\n    overflow: hidden;\n\n    .user-group {\n      display: flex;\n      width: 800px;\n      padding: 20px;\n      margin: 200px 0;\n\n      .title {\n        margin-bottom: 12px;\n      }\n    }\n\n    .user-info {\n      flex: 1;\n      margin-right: 120px;\n      display: flex;\n      flex-direction: column;\n\n      .user-info-item {\n        position: relative;\n        margin-bottom: 15px;\n        display: flex;\n        flex-direction: column;\n\n        label {\n          width: 70px;\n          font-size: 14px;\n          margin-bottom: 5px;\n        }\n\n        input {\n          width: 100%;\n          height: 34px;\n          padding: 6px 8px;\n          font-size: 14px;\n          color: #333;\n          line-height: 20px;\n          vertical-align: middle;\n          background-color: #fafafa;\n          border: 1px solid #ddd;\n          border-radius: 4px;\n          box-shadow: inset 0 1px 2px rgba(0,0,0,0.075);\n\n          &:focus {\n            border-color: #51a7e8;\n            outline: none;\n            box-shadow: inset 0 1px 2px rgba(0,0,0,0.075),0 0 5px rgba(81,167,232,0.5);\n          }\n\n          &[disabled] {\n            opacity: .75;\n            background-color: #f1f1f1;\n          }\n        }\n\n        .has-btn-item {\n          display: flex;\n\n          input {\n            border-radius: 3px 0 0 3px;\n          }\n\n          button {\n            border-radius: 0 3px 3px 0;\n          }\n        }\n      }\n    }\n\n    .user-avatar {\n      width: 168px;\n      display: flex;\n      flex-direction: column;\n\n      .avatar {\n        width: 168px;\n        height: 168px;\n        border-radius: 3px;\n        margin-bottom: 10px;\n      }\n    }\n\n    .save-btn {\n      align-self: flex-start;\n      padding: 0 20px;\n      margin-bottom: 40px;\n      border: none;\n      color: $white;\n      background-color: #eee;\n      background-image: linear-gradient(-180deg, $green_l2 0%, $green_d1 100%);\n\n      &:active {\n        box-shadow: inset 0 4px 10px rgba(0, 0, 0, .25);\n      }\n    }\n\n    .user-btn {\n      padding: 0 20px;\n      color: #333;\n      background-color: #eff3f6;\n      background-image: linear-gradient(-180deg, #fafbfc 0%, #eff3f6 90%);\n\n      &:active {\n        box-shadow: inset 0 2px 5px rgba(0, 0, 0, .15);\n      }\n    }\n\n    .no-user {\n      @include flex-center;\n      font-size: 40px;\n    }\n\n    .upload-avatar {\n      position: relative;\n\n      button {\n        width: 100%;\n      }\n\n      .avatar-input {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        opacity: 0;\n      }\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// user.vue?7740cea8","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".user-view{min-height:100vh;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;overflow:hidden}.user-view,.user-view .user-group{display:-webkit-box;display:-ms-flexbox;display:flex}.user-view .user-group{width:800px;padding:20px;margin:200px 0}.user-view .user-group .title{margin-bottom:12px}.user-view .user-info{-webkit-box-flex:1;-ms-flex:1;flex:1;margin-right:120px;flex-direction:column}.user-view .user-info,.user-view .user-info .user-info-item{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column}.user-view .user-info .user-info-item{position:relative;margin-bottom:15px;flex-direction:column}.user-view .user-info .user-info-item label{width:70px;font-size:14px;margin-bottom:5px}.user-view .user-info .user-info-item input{width:100%;height:34px;padding:6px 8px;font-size:14px;color:#333;line-height:20px;vertical-align:middle;background-color:#fafafa;border:1px solid #ddd;border-radius:4px;box-shadow:inset 0 1px 2px rgba(0,0,0,.075)}.user-view .user-info .user-info-item input:focus{border-color:#51a7e8;outline:none;box-shadow:inset 0 1px 2px rgba(0,0,0,.075),0 0 5px rgba(81,167,232,.5)}.user-view .user-info .user-info-item input[disabled]{opacity:.75;background-color:#f1f1f1}.user-view .user-info .user-info-item .has-btn-item{display:-webkit-box;display:-ms-flexbox;display:flex}.user-view .user-info .user-info-item .has-btn-item input{border-radius:3px 0 0 3px}.user-view .user-info .user-info-item .has-btn-item button{border-radius:0 3px 3px 0}.user-view .user-avatar{width:168px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.user-view .user-avatar .avatar{width:168px;height:168px;border-radius:3px;margin-bottom:10px}.user-view .save-btn{-ms-flex-item-align:start;align-self:flex-start;padding:0 20px;margin-bottom:40px;border:none;color:#fff;background-color:#eee;background-image:linear-gradient(-180deg,#4dc9a7,#00a074)}.user-view .save-btn:active{box-shadow:inset 0 4px 10px rgba(0,0,0,.25)}.user-view .user-btn{padding:0 20px;color:#333;background-color:#eff3f6;background-image:linear-gradient(-180deg,#fafbfc,#eff3f6 90%)}.user-view .user-btn:active{box-shadow:inset 0 2px 5px rgba(0,0,0,.15)}.user-view .no-user{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:40px}.user-view .upload-avatar{position:relative}.user-view .upload-avatar button{width:100%}.user-view .upload-avatar .avatar-input{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0}\", \"\", {\"version\":3,\"sources\":[\"/Users/mac/Desktop/mine/NightCat/view/src/views/fe/user.vue\"],\"names\":[],\"mappings\":\"AAKA,WACE,iBAAkB,AAIlB,wBAAyB,AACrB,qBAAsB,AAClB,uBAAwB,AAChC,eAAiB,CAClB,AACD,kCARE,oBAAqB,AACrB,oBAAqB,AACrB,YAAc,CAaf,AAPD,uBAII,YAAa,AACb,aAAc,AACd,cAAgB,CACnB,AACD,8BACM,kBAAoB,CACzB,AACD,sBACI,mBAAoB,AAChB,WAAY,AACR,OAAQ,AAChB,mBAAoB,AAOZ,qBAAuB,CAClC,AACD,4DARI,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,4BAA6B,AAC7B,6BAA8B,AAC1B,yBAA2B,CAalC,AAVD,sCACM,kBAAmB,AACnB,mBAAoB,AAOZ,qBAAuB,CACpC,AACD,4CACQ,WAAY,AACZ,eAAgB,AAChB,iBAAmB,CAC1B,AACD,4CACQ,WAAY,AACZ,YAAa,AACb,gBAAiB,AACjB,eAAgB,AAChB,WAAY,AACZ,iBAAkB,AAClB,sBAAuB,AACvB,yBAA0B,AAC1B,sBAAuB,AACvB,kBAAmB,AACnB,2CAAiD,CACxD,AACD,kDACU,qBAAsB,AACtB,aAAc,AACd,uEAAkF,CAC3F,AACD,sDACU,YAAa,AACb,wBAA0B,CACnC,AACD,oDACQ,oBAAqB,AACrB,oBAAqB,AACrB,YAAc,CACrB,AACD,0DACU,yBAA2B,CACpC,AACD,2DACU,yBAA2B,CACpC,AACD,wBACI,YAAa,AACb,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,4BAA6B,AAC7B,6BAA8B,AAC1B,0BAA2B,AACvB,qBAAuB,CAClC,AACD,gCACM,YAAa,AACb,aAAc,AACd,kBAAmB,AACnB,kBAAoB,CACzB,AACD,qBACI,0BAA2B,AACvB,sBAAuB,AAC3B,eAAgB,AAChB,mBAAoB,AACpB,YAAa,AACb,WAAY,AACZ,sBAAuB,AACvB,yDAAqE,CACxE,AACD,4BACM,2CAAiD,CACtD,AACD,qBACI,eAAgB,AAChB,WAAY,AACZ,yBAA0B,AAC1B,6DAAoE,CACvE,AACD,4BACM,0CAAgD,CACrD,AACD,oBACI,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,wBAAyB,AACrB,qBAAsB,AAClB,uBAAwB,AAChC,yBAA0B,AACtB,sBAAuB,AACnB,mBAAoB,AAC5B,cAAgB,CACnB,AACD,0BACI,iBAAmB,CACtB,AACD,iCACM,UAAY,CACjB,AACD,wCACM,kBAAmB,AACnB,MAAO,AACP,OAAQ,AACR,WAAY,AACZ,YAAa,AACb,SAAW,CAChB\",\"file\":\"user.vue\",\"sourcesContent\":[\"\\n@charset \\\"UTF-8\\\";\\n/*\\n * 基础色\\n */\\n.user-view {\\n  min-height: 100vh;\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-pack: center;\\n      -ms-flex-pack: center;\\n          justify-content: center;\\n  overflow: hidden;\\n}\\n.user-view .user-group {\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    width: 800px;\\n    padding: 20px;\\n    margin: 200px 0;\\n}\\n.user-view .user-group .title {\\n      margin-bottom: 12px;\\n}\\n.user-view .user-info {\\n    -webkit-box-flex: 1;\\n        -ms-flex: 1;\\n            flex: 1;\\n    margin-right: 120px;\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    -webkit-box-orient: vertical;\\n    -webkit-box-direction: normal;\\n        -ms-flex-direction: column;\\n            flex-direction: column;\\n}\\n.user-view .user-info .user-info-item {\\n      position: relative;\\n      margin-bottom: 15px;\\n      display: -webkit-box;\\n      display: -ms-flexbox;\\n      display: flex;\\n      -webkit-box-orient: vertical;\\n      -webkit-box-direction: normal;\\n          -ms-flex-direction: column;\\n              flex-direction: column;\\n}\\n.user-view .user-info .user-info-item label {\\n        width: 70px;\\n        font-size: 14px;\\n        margin-bottom: 5px;\\n}\\n.user-view .user-info .user-info-item input {\\n        width: 100%;\\n        height: 34px;\\n        padding: 6px 8px;\\n        font-size: 14px;\\n        color: #333;\\n        line-height: 20px;\\n        vertical-align: middle;\\n        background-color: #fafafa;\\n        border: 1px solid #ddd;\\n        border-radius: 4px;\\n        box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.075);\\n}\\n.user-view .user-info .user-info-item input:focus {\\n          border-color: #51a7e8;\\n          outline: none;\\n          box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.075), 0 0 5px rgba(81, 167, 232, 0.5);\\n}\\n.user-view .user-info .user-info-item input[disabled] {\\n          opacity: .75;\\n          background-color: #f1f1f1;\\n}\\n.user-view .user-info .user-info-item .has-btn-item {\\n        display: -webkit-box;\\n        display: -ms-flexbox;\\n        display: flex;\\n}\\n.user-view .user-info .user-info-item .has-btn-item input {\\n          border-radius: 3px 0 0 3px;\\n}\\n.user-view .user-info .user-info-item .has-btn-item button {\\n          border-radius: 0 3px 3px 0;\\n}\\n.user-view .user-avatar {\\n    width: 168px;\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    -webkit-box-orient: vertical;\\n    -webkit-box-direction: normal;\\n        -ms-flex-direction: column;\\n            flex-direction: column;\\n}\\n.user-view .user-avatar .avatar {\\n      width: 168px;\\n      height: 168px;\\n      border-radius: 3px;\\n      margin-bottom: 10px;\\n}\\n.user-view .save-btn {\\n    -ms-flex-item-align: start;\\n        align-self: flex-start;\\n    padding: 0 20px;\\n    margin-bottom: 40px;\\n    border: none;\\n    color: #fff;\\n    background-color: #eee;\\n    background-image: linear-gradient(-180deg, #4dc9a7 0%, #00a074 100%);\\n}\\n.user-view .save-btn:active {\\n      box-shadow: inset 0 4px 10px rgba(0, 0, 0, 0.25);\\n}\\n.user-view .user-btn {\\n    padding: 0 20px;\\n    color: #333;\\n    background-color: #eff3f6;\\n    background-image: linear-gradient(-180deg, #fafbfc 0%, #eff3f6 90%);\\n}\\n.user-view .user-btn:active {\\n      box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.15);\\n}\\n.user-view .no-user {\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    -webkit-box-pack: center;\\n        -ms-flex-pack: center;\\n            justify-content: center;\\n    -webkit-box-align: center;\\n        -ms-flex-align: center;\\n            align-items: center;\\n    font-size: 40px;\\n}\\n.user-view .upload-avatar {\\n    position: relative;\\n}\\n.user-view .upload-avatar button {\\n      width: 100%;\\n}\\n.user-view .upload-avatar .avatar-input {\\n      position: absolute;\\n      top: 0;\\n      left: 0;\\n      width: 100%;\\n      height: 100%;\\n      opacity: 0;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-c672119a\",\"scoped\":false,\"hasInlineConfig\":false}!./~/sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/fe/user.vue\n// module id = 275\n// module chunks = 7","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-c672119a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./user.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"428c87ea\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-c672119a\",\"scoped\":false,\"hasInlineConfig\":false}!./~/sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/fe/user.vue\n// module id = 293\n// module chunks = 7","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"user-view\"\n  }, [(_vm.userInfo) ? _c('div', {\n    staticClass: \"user-group\"\n  }, [_c('div', {\n    staticClass: \"user-info\"\n  }, [_c('h1', {\n    staticClass: \"title\"\n  }, [_vm._v(\"个人资料\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"user-info-item\"\n  }, [_c('label', {\n    attrs: {\n      \"for\": \"account\"\n    }\n  }, [_vm._v(\"账号：\")]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.userInfo.account),\n      expression: \"userInfo.account\"\n    }],\n    attrs: {\n      \"id\": \"account\",\n      \"disabled\": \"\"\n    },\n    domProps: {\n      \"value\": (_vm.userInfo.account)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.userInfo.account = $event.target.value\n      }\n    }\n  })]), _vm._v(\" \"), (!_vm.isSelf) ? _c('div', {\n    staticClass: \"user-info-item\"\n  }, [_c('label', {\n    attrs: {\n      \"for\": \"email\"\n    }\n  }, [_vm._v(\"邮箱：\")]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.userInfo.email),\n      expression: \"userInfo.email\"\n    }],\n    attrs: {\n      \"id\": \"email\",\n      \"disabled\": \"\"\n    },\n    domProps: {\n      \"value\": (_vm.userInfo.email)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.userInfo.email = $event.target.value\n      }\n    }\n  })]) : _vm._e(), _vm._v(\" \"), _c('div', {\n    staticClass: \"user-info-item\"\n  }, [_c('label', {\n    attrs: {\n      \"for\": \"profile\"\n    }\n  }, [_vm._v(\"概况：\")]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.userInfo.profile),\n      expression: \"userInfo.profile\"\n    }],\n    attrs: {\n      \"id\": \"profile\",\n      \"disabled\": !_vm.isSelf\n    },\n    domProps: {\n      \"value\": (_vm.userInfo.profile)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.userInfo.profile = $event.target.value\n      }\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"user-info-item\"\n  }, [_c('label', {\n    attrs: {\n      \"for\": \"location\"\n    }\n  }, [_vm._v(\"位置：\")]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.userInfo.location),\n      expression: \"userInfo.location\"\n    }],\n    attrs: {\n      \"id\": \"location\",\n      \"disabled\": !_vm.isSelf\n    },\n    domProps: {\n      \"value\": (_vm.userInfo.location)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.userInfo.location = $event.target.value\n      }\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"user-info-item\"\n  }, [_c('label', {\n    attrs: {\n      \"for\": \"github\"\n    }\n  }, [_vm._v(\"Github：\")]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.userInfo.github),\n      expression: \"userInfo.github\"\n    }],\n    attrs: {\n      \"id\": \"github\",\n      \"disabled\": !_vm.isSelf\n    },\n    domProps: {\n      \"value\": (_vm.userInfo.github)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.userInfo.github = $event.target.value\n      }\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"user-info-item\"\n  }, [_c('label', {\n    attrs: {\n      \"for\": \"website\"\n    }\n  }, [_vm._v(\"网站：\")]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.userInfo.website),\n      expression: \"userInfo.website\"\n    }],\n    attrs: {\n      \"id\": \"website\",\n      \"disabled\": !_vm.isSelf\n    },\n    domProps: {\n      \"value\": (_vm.userInfo.website)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.userInfo.website = $event.target.value\n      }\n    }\n  })]), _vm._v(\" \"), (_vm.isSelf) ? _c('Btn', {\n    staticClass: \"save-btn\",\n    on: {\n      \"click\": _vm.updateUser\n    }\n  }, [_vm._v(\"保存修改\")]) : _vm._e(), _vm._v(\" \"), (_vm.isSelf) ? [_c('h1', {\n    staticClass: \"title\"\n  }, [_vm._v(\"绑定邮箱\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"user-info-item\"\n  }, [(_vm.isSelf) ? _c('div', {\n    staticClass: \"has-btn-item\"\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.userInfo.email),\n      expression: \"userInfo.email\"\n    }],\n    attrs: {\n      \"id\": \"email\"\n    },\n    domProps: {\n      \"value\": (_vm.userInfo.email)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.userInfo.email = $event.target.value\n      }\n    }\n  }), _vm._v(\" \"), _c('Btn', {\n    staticClass: \"user-btn\",\n    on: {\n      \"click\": _vm.bindEmail\n    }\n  }, [_vm._v(\"绑定邮箱\")])], 1) : _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.userInfo.email),\n      expression: \"userInfo.email\"\n    }],\n    attrs: {\n      \"id\": \"email\",\n      \"disabled\": \"\"\n    },\n    domProps: {\n      \"value\": (_vm.userInfo.email)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.userInfo.email = $event.target.value\n      }\n    }\n  })])] : _vm._e()], 2), _vm._v(\" \"), _c('div', {\n    staticClass: \"user-avatar\"\n  }, [_c('h1', {\n    staticClass: \"title\"\n  }, [_vm._v(\"头像\")]), _vm._v(\" \"), _c('img', {\n    staticClass: \"avatar\",\n    attrs: {\n      \"src\": _vm.userInfo.avatar,\n      \"alt\": \"avatar\"\n    }\n  }), _vm._v(\" \"), _c('span', {\n    staticClass: \"upload-avatar\"\n  }, [(_vm.isSelf) ? _c('Btn', {\n    staticClass: \"user-btn upload-btn\"\n  }, [_vm._v(\"上传新头像\")]) : _vm._e(), _vm._v(\" \"), _c('input', {\n    staticClass: \"avatar-input\",\n    attrs: {\n      \"type\": \"file\",\n      \"accept\": \"image/*\"\n    },\n    on: {\n      \"change\": _vm.uploadAvatar\n    }\n  })], 1)])]) : _c('div', {\n    staticClass: \"no-user\"\n  }, [_vm._v(\"\\n    没有这个人\\n  \")])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-c672119a\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/fe/user.vue\n// module id = 546\n// module chunks = 7"],"sourceRoot":""}