webpackJsonp([2],{213:function(t,e,n){"use strict";function i(t){if("string"!=typeof t)throw new TypeError("This library (validator.js) validates strings only")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i,t.exports=e.default},216:function(t,e,n){"use strict";function i(t,e){(0,s.default)(t);var n=void 0,i=void 0;"object"===(void 0===e?"undefined":a(e))?(n=e.min||0,i=e.max):(n=arguments[1],i=arguments[2]);var o=encodeURI(t).split(/%..|./).length-1;return o>=n&&(void 0===i||o<=i)}Object.defineProperty(e,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=i;var o=n(213),s=function(t){return t&&t.__esModule?t:{default:t}}(o);t.exports=e.default},223:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});for(var i,a=e.alpha={"en-US":/^[A-Z]+$/i,"cs-CZ":/^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]+$/i,"da-DK":/^[A-ZÆØÅ]+$/i,"de-DE":/^[A-ZÄÖÜß]+$/i,"es-ES":/^[A-ZÁÉÍÑÓÚÜ]+$/i,"fr-FR":/^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]+$/i,"nl-NL":/^[A-ZÉËÏÓÖÜ]+$/i,"hu-HU":/^[A-ZÁÉÍÓÖŐÚÜŰ]+$/i,"pl-PL":/^[A-ZĄĆĘŚŁŃÓŻŹ]+$/i,"pt-PT":/^[A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ]+$/i,"ru-RU":/^[А-ЯЁ]+$/i,"sr-RS@latin":/^[A-ZČĆŽŠĐ]+$/i,"sr-RS":/^[А-ЯЂЈЉЊЋЏ]+$/i,"tr-TR":/^[A-ZÇĞİıÖŞÜ]+$/i,"uk-UA":/^[А-ЯЄIЇҐ]+$/i,ar:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ]+$/},o=e.alphanumeric={"en-US":/^[0-9A-Z]+$/i,"cs-CZ":/^[0-9A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]+$/i,"da-DK":/^[0-9A-ZÆØÅ]$/i,"de-DE":/^[0-9A-ZÄÖÜß]+$/i,"es-ES":/^[0-9A-ZÁÉÍÑÓÚÜ]+$/i,"fr-FR":/^[0-9A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]+$/i,"hu-HU":/^[0-9A-ZÁÉÍÓÖŐÚÜŰ]+$/i,"nl-NL":/^[0-9A-ZÉËÏÓÖÜ]+$/i,"pl-PL":/^[0-9A-ZĄĆĘŚŁŃÓŻŹ]+$/i,"pt-PT":/^[0-9A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ]+$/i,"ru-RU":/^[0-9А-ЯЁ]+$/i,"sr-RS@latin":/^[0-9A-ZČĆŽŠĐ]+$/i,"sr-RS":/^[0-9А-ЯЂЈЉЊЋЏ]+$/i,"tr-TR":/^[0-9A-ZÇĞİıÖŞÜ]+$/i,"uk-UA":/^[0-9А-ЯЄIЇҐ]+$/i,ar:/^[٠١٢٣٤٥٦٧٨٩0-9ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ]+$/},s=e.englishLocales=["AU","GB","HK","IN","NZ","ZA","ZM"],r=0;r<s.length;r++)i="en-"+s[r],a[i]=a["en-US"],o[i]=o["en-US"];a["pt-BR"]=a["pt-PT"],o["pt-BR"]=o["pt-PT"];for(var l,c=e.arabicLocales=["AE","BH","DZ","EG","IQ","JO","KW","LB","LY","MA","QM","QA","SA","SD","SY","TN","YE"],u=0;u<c.length;u++)l="ar-"+c[u],a[l]=a.ar,o[l]=o.ar},224:function(t,e,n){"use strict";function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";if((0,o.default)(t),e in s.alphanumeric)return s.alphanumeric[e].test(t);throw new Error("Invalid locale '"+e+"'")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var a=n(213),o=function(t){return t&&t.__esModule?t:{default:t}}(a),s=n(223);t.exports=e.default},233:function(t,e,n){"use strict";function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];for(var n in e)void 0===t[n]&&(t[n]=e[n]);return t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i,t.exports=e.default},247:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(224),a=n.n(i),o=n(216),s=n.n(o),r=n(529),l=n.n(r),c=n(35);e.default={name:"admin-login11",data:function(){return{email:"",account:"",password:"",repassword:"",accountPass:!1,loginName:this.$route.meta.login,registerName:this.$route.meta.register,toName:this.$route.meta.to,emailPass:!1,pwdPass:!1,pwdAgainPass:!1,type:this.$route.meta.type,sonType:"",targetPath:""}},watch:{type:function(t){"register"===t?this.$router.push({name:this.registerName}):this.$router.push({name:this.loginName})}},computed:{accountLogin:function(){return!this.accountPass||!this.pwdPass},accountRegister:function(){return!this.accountPass||!this.pwdPass||!this.pwdAgainPass},emailRegister:function(){return!this.emailPass}},methods:{accountFilter:function(t){return t=t.replace(/[^0-9a-zA-Z]/gi,""),t=t.length>20?t.slice(0,20):t},accountOrEmailIsRight:function(t,e){return e.status=t.length>=6?"normal":"error",e.process=t.length/6*100,s()(t,{min:6})},accountIsRight:function(t,e){return e.status=t.length>=6?"normal":"error",e.process=t.length/6*100,s()(t,{min:6,max:20})&&a()(t)},emailIsRight:function(t,e){return e.status=l()(t)?"normal":"error",e.process=t.length?100:0,"normal"===e.status},passwordIsRight:function(t,e){var n=this;return e.status=t.length>=6?"normal":"error",e.process=t.length/6*100,"register"===this.type&&this.$nextTick(function(){return n.$refs.repassword.is_complete()}),s()(t,{min:6})&&a()(t)},passwordIsEqual:function(t,e){return e.status=t===this.password?"normal":"error",e.process=t?100:0,t===this.password},submit:function(){"login"===this.type?this.login():"register"===this.type&&this.register()},login:function(){var t=this.account;l()(t)?this.loginByEmail(t):this.loginByAccount(t)},loginByAccount:function(t){var e=this,n=this.password;this.$graphql.mutation("\n        login ($account, $password) {\n          account,\n          admin,\n          avatar\n        }\n      ",{account:t,password:n}).then(function(t){e.$store.commit("setSignStatus",t),e.$toast("登录成功","success").then(function(){return e.$router.replace(e.targetPath)})}).catch(function(t){return e.$toast(t.message,"error")})},loginByEmail:function(t){var e=this,n=this.password;this.$graphql.mutation("\n        loginByEmail ($email, $password) {\n          account,\n          admin,\n          avatar\n        }\n      ",{email:t,password:n}).then(function(t){e.$store.commit("setSignStatus",t),e.$toast("登录成功","success").then(function(){return e.$router.replace(e.targetPath)})}).catch(function(t){return e.$toast(t.message,"error")})},register:function(){"email"===this.sonType?this.registerByEmail():this.registerByAccount()},registerByAccount:function(){var t=this,e=this.account,n=this.password,i=this.repassword;this.$graphql.mutation("\n        register ($account, $password, $repassword) {\n          account,\n          admin,\n          avatar\n        }\n      ",{account:e,password:n,repassword:i}).then(function(e){t.$store.commit("setSignStatus",e),t.$toast("注册成功","success").then(function(){return t.$router.replace(t.targetPath)})}).catch(function(e){t.$toast(e.message,"error")})},registerByEmail:function(){var t=this,e=this.email;this.$http.post("/sendSignupEmail",{email:e}).then(function(e){t.$toast("已向注册邮箱发送激活邮件","success")}).catch(function(e){t.$toast(e.message,"error")})},loginByGithub:function(){window.location="https://github.com/login/oauth/authorize?client_id="+c.a.github.clientId+"&state="+this.targetPath+"&scope=user"}},beforeRouteEnter:function(t,e,n){n(function(t){if(t.targetPath)return!1;"/"===e.fullPath?t.targetPath=t.$route.meta.to:t.targetPath=e.fullPath})}}},268:function(t,e,n){e=t.exports=n(195)(!0),e.push([t.i,".login-view[data-v-5e531479]{height:100vh;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.form-wrap[data-v-5e531479]{position:relative;width:400px;height:360px}.form[data-v-5e531479]{position:absolute;width:100%;height:100%;top:0;left:0;background-color:#fff;box-shadow:1px 2px 1px rgba(0,0,0,.16);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;transition:all 3s}.form .form-item[data-v-5e531479]{margin-bottom:10px}.form .sign-btn[data-v-5e531479]{margin-top:20px;width:50%}.type-nav[data-v-5e531479]{position:absolute;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;left:100%;top:0;height:50%;color:gray;font-size:14px;list-style:none;-webkit-transform:translateX(20px);transform:translateX(20px);transition:all .3s}.type-nav li[data-v-5e531479]{padding:3px 5px;white-space:nowrap;cursor:pointer}.type-nav li[data-v-5e531479]:hover{color:#383838}.type-nav li.active[data-v-5e531479]{color:#3da8f5}.other-btn[data-v-5e531479]{font-size:13px;margin-top:15px;cursor:pointer;color:#a6a6a6;transition:color .3s}.other-btn[data-v-5e531479]:hover{color:#3da8f5}","",{version:3,sources:["/Users/mac/Desktop/mine/NightCat/view/src/views/common/sign.vue"],names:[],mappings:"AAKA,6BACE,aAAc,AACd,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,wBAAyB,AACrB,qBAAsB,AAClB,uBAAwB,AAChC,yBAA0B,AACtB,sBAAuB,AACnB,kBAAoB,CAC7B,AACD,4BACE,kBAAmB,AACnB,YAAa,AACb,YAAc,CACf,AACD,uBACE,kBAAmB,AACnB,WAAY,AACZ,YAAa,AACb,MAAO,AACP,OAAQ,AACR,sBAAuB,AACvB,uCAA4C,AAC5C,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,4BAA6B,AAC7B,6BAA8B,AAC1B,0BAA2B,AACvB,sBAAuB,AAC/B,wBAAyB,AACrB,qBAAsB,AAClB,uBAAwB,AAChC,yBAA0B,AACtB,sBAAuB,AACnB,mBAAoB,AAC5B,iBAAmB,CACpB,AACD,kCACI,kBAAoB,CACvB,AACD,iCACI,gBAAiB,AACjB,SAAW,CACd,AACD,2BACE,kBAAmB,AACnB,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,4BAA6B,AAC7B,6BAA8B,AAC1B,0BAA2B,AACvB,sBAAuB,AAC/B,UAAW,AACX,MAAO,AACP,WAAY,AACZ,WAAe,AACf,eAAgB,AAChB,gBAAiB,AACjB,mCAAoC,AAC5B,2BAA4B,AACpC,kBAAoB,CACrB,AACD,8BACI,gBAAiB,AACjB,mBAAoB,AACpB,cAAgB,CACnB,AACD,oCACM,aAAe,CACpB,AACD,qCACM,aAAe,CACpB,AACD,4BACE,eAAgB,AAChB,gBAAiB,AACjB,eAAgB,AAChB,cAAe,AACf,oBAAsB,CACvB,AACD,kCACI,aAAe,CAClB",file:"sign.vue",sourcesContent:['\n@charset "UTF-8";\n/*\n * 基础色\n */\n.login-view[data-v-5e531479] {\n  height: 100vh;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.form-wrap[data-v-5e531479] {\n  position: relative;\n  width: 400px;\n  height: 360px;\n}\n.form[data-v-5e531479] {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  background-color: #fff;\n  box-shadow: 1px 2px 1px rgba(0, 0, 0, 0.16);\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  transition: all 3s;\n}\n.form .form-item[data-v-5e531479] {\n    margin-bottom: 10px;\n}\n.form .sign-btn[data-v-5e531479] {\n    margin-top: 20px;\n    width: 50%;\n}\n.type-nav[data-v-5e531479] {\n  position: absolute;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  left: 100%;\n  top: 0;\n  height: 50%;\n  color: #808080;\n  font-size: 14px;\n  list-style: none;\n  -webkit-transform: translateX(20px);\n          transform: translateX(20px);\n  transition: all .3s;\n}\n.type-nav li[data-v-5e531479] {\n    padding: 3px 5px;\n    white-space: nowrap;\n    cursor: pointer;\n}\n.type-nav li[data-v-5e531479]:hover {\n      color: #383838;\n}\n.type-nav li.active[data-v-5e531479] {\n      color: #3da8f5;\n}\n.other-btn[data-v-5e531479] {\n  font-size: 13px;\n  margin-top: 15px;\n  cursor: pointer;\n  color: #a6a6a6;\n  transition: color .3s;\n}\n.other-btn[data-v-5e531479]:hover {\n    color: #3da8f5;\n}\n'],sourceRoot:""}])},286:function(t,e,n){var i=n(268);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(196)("3e11db47",i,!0)},529:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if((0,s.default)(t),e=(0,l.default)(e,f),e.require_display_name||e.allow_display_name){var n=t.match(d);if(n)t=n[1];else if(e.require_display_name)return!1}var i=t.split("@"),a=i.pop(),o=i.join("@"),r=a.toLowerCase();if("gmail.com"!==r&&"googlemail.com"!==r||(o=o.replace(/\./g,"").toLowerCase()),!(0,u.default)(o,{max:64})||!(0,u.default)(a,{max:256}))return!1;if(!(0,p.default)(a,{require_tld:e.require_tld}))return!1;if('"'===o[0])return o=o.slice(1,o.length-1),e.allow_utf8_local_part?B.test(o):g.test(o);for(var c=e.allow_utf8_local_part?h:m,A=o.split("."),v=0;v<A.length;v++)if(!c.test(A[v]))return!1;return!0}Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var o=n(213),s=i(o),r=n(233),l=i(r),c=n(216),u=i(c),A=n(530),p=i(A),f={allow_display_name:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0},d=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\.\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\.\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\s]*<(.+)>$/i,m=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,g=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,h=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,B=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i;t.exports=e.default},530:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){(0,s.default)(t),e=(0,l.default)(e,c),e.allow_trailing_dot&&"."===t[t.length-1]&&(t=t.substring(0,t.length-1));var n=t.split(".");if(e.require_tld){var i=n.pop();if(!n.length||!/^([a-z\u00a1-\uffff]{2,}|xn[a-z0-9-]{2,})$/i.test(i))return!1}for(var a,o=0;o<n.length;o++){if(a=n[o],e.allow_underscores&&(a=a.replace(/_/g,"")),!/^[a-z\u00a1-\uffff0-9-]+$/i.test(a))return!1;if(/[\uff01-\uff5e]/.test(a))return!1;if("-"===a[0]||"-"===a[a.length-1])return!1}return!0}Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var o=n(213),s=i(o),r=n(233),l=i(r),c={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1};t.exports=e.default},539:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login-view"},[n("div",{staticClass:"form-wrap"},[""!==t.sonType?n("form",{staticClass:"form",on:{submit:function(e){e.preventDefault(),t.submit(e)}}},["login"===t.type?n("Input",{ref:"account",staticClass:"form-item",attrs:{label:"Account / Email",complete:t.accountPass,verify:t.accountOrEmailIsRight},on:{"update:complete":function(e){t.accountPass=e}},model:{value:t.account,callback:function(e){t.account=e},expression:"account"}}):t._e(),t._v(" "),"register"===t.type&&"account"===t.sonType?n("Input",{ref:"account",staticClass:"form-item",attrs:{label:"Account",complete:t.accountPass,filter:t.accountFilter,verify:t.accountIsRight},on:{"update:complete":function(e){t.accountPass=e}},model:{value:t.account,callback:function(e){t.account=e},expression:"account"}}):t._e(),t._v(" "),"register"===t.type&&"email"===t.sonType?n("Input",{ref:"email",staticClass:"form-item",attrs:{label:"Email",complete:t.emailPass,verify:t.emailIsRight},on:{"update:complete":function(e){t.emailPass=e}},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}):t._e(),t._v(" "),"account"===t.sonType?n("Input",{ref:"password",staticClass:"form-item",attrs:{type:"password",label:"Password",complete:t.pwdPass,verify:t.passwordIsRight},on:{"update:complete":function(e){t.pwdPass=e}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}):t._e(),t._v(" "),"register"===t.type&&"account"===t.sonType?n("Input",{ref:"repassword",staticClass:"form-item",attrs:{type:"password",label:"Password Again",complete:t.pwdAgainPass,verify:t.passwordIsEqual},on:{"update:complete":function(e){t.pwdAgainPass=e}},model:{value:t.repassword,callback:function(e){t.repassword=e},expression:"repassword"}}):t._e(),t._v(" "),"login"===t.type?n("Btn",{staticClass:"sign-btn",attrs:{disabled:t.accountLogin,type:"submit"}},[t._v("Login")]):t._e(),t._v(" "),"register"===t.type?n("Btn",{staticClass:"sign-btn",attrs:{disabled:"account"===t.sonType?t.accountRegister:t.emailRegister,type:"submit"}},[t._v("Register")]):t._e(),t._v(" "),n("div",{staticClass:"other-btn",on:{click:function(e){t.sonType=""}}},[t._v("Other")])],1):t._e(),t._v(" "),"login"===t.type&&""===t.sonType?n("div",{staticClass:"form"},[n("h1",[t._v("Login")]),t._v(" "),n("Btn",{staticClass:"sign-btn",on:{click:function(e){t.sonType="account"}}},[t._v("Account")]),t._v(" "),n("Btn",{staticClass:"sign-btn",on:{click:t.loginByGithub}},[t._v("Github")])],1):t._e(),t._v(" "),"register"===t.type&&""===t.sonType?n("div",{staticClass:"form"},[n("h1",[t._v("Register")]),t._v(" "),n("Btn",{staticClass:"sign-btn",on:{click:function(e){t.sonType="account"}}},[t._v("Account")]),t._v(" "),n("Btn",{staticClass:"sign-btn",on:{click:function(e){t.sonType="email"}}},[t._v("Email")])],1):t._e(),t._v(" "),n("ul",{staticClass:"type-nav"},[n("li",{class:{active:"login"===t.type},on:{click:function(e){t.type="login",t.sonType=""}}},[t._v("Login")]),t._v(" "),n("li",{class:{active:"register"===t.type},on:{click:function(e){t.type="register",t.sonType=""}}},[t._v("Register")])])])])},staticRenderFns:[]}},68:function(t,e,n){n(286);var i=n(0)(n(247),n(539),"data-v-5e531479",null);t.exports=i.exports}});
//# sourceMappingURL=2.01d134e668c6bdad4a08.js.map