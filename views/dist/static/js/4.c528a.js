webpackJsonp([4,13],{16:function(t,e,i){t.exports={default:i(28),__esModule:!0}},28:function(t,e,i){i(33),i(32),t.exports=i(10).Array.from},29:function(t,e,i){"use strict";var r=i(21),n=i(36);t.exports=function(t,e,i){e in t?r.f(t,e,n(0,i)):t[e]=i}},32:function(t,e,i){"use strict";var r=i(30),n=i(20),a=i(31),o=i(52),s=i(51),l=i(43),h=i(29),c=i(41);n(n.S+n.F*!i(53)(function(t){Array.from(t)}),"Array",{from:function(t){var e,i,n,u,d=a(t),f="function"==typeof this?this:Array,v=arguments.length,p=v>1?arguments[1]:void 0,y=void 0!==p,m=0,x=c(d);if(y&&(p=r(p,v>2?arguments[2]:void 0,2)),void 0==x||f==Array&&s(x))for(e=l(d.length),i=new f(e);e>m;m++)h(i,m,y?p(d[m],m):d[m]);else for(u=x.call(d),i=new f;!(n=u.next()).done;m++)h(i,m,y?o(u,p,[n.value,m],!0):n.value);return i.length=m,i}})},126:function(t,e,i){i(78),i(33),t.exports=i(142)},127:function(t,e,i){i(143),t.exports=i(10).Object.keys},142:function(t,e,i){var r=i(35),n=i(41);t.exports=i(10).getIterator=function(t){var e=n(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return r(e.call(t))}},143:function(t,e,i){var r=i(31),n=i(54);i(135)("keys",function(){return function(t){return n(r(t))}})},157:function(t,e,i){t.exports={default:i(126),__esModule:!0}},158:function(t,e,i){t.exports={default:i(127),__esModule:!0}},273:function(t,e,i){e=t.exports=i(14)(),e.push([t.id,".home-view{-webkit-box-flex:1;-ms-flex:1;flex:1;position:relative}.home-view .first-screen{position:relative;width:100vw;height:100vh;overflow:hidden;cursor:default;background-color:#f3f3f3}.home-view .info{position:absolute;top:50%;left:50%;font-size:50px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);z-index:1}@media (max-width:768px){.home-view .info{font-size:20px}}.home-view aside{position:absolute;right:8px;bottom:8px;font-size:12px;z-index:5}.home-view aside a{color:#333}.home-view aside a:hover{color:#3498db}.home-view .main.hide{display:none}.home-view .main section{width:100%;height:500px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.home-view #canvas{position:absolute;left:0;top:0;width:100%;height:100%;z-index:2}",""])},308:function(t,e,i){var r=i(273);"string"==typeof r&&(r=[[t.id,r,""]]);i(13)(r,{});r.locals&&(t.exports=r.locals)},403:function(t,e,i){i(78),i(33),t.exports=i(434)},434:function(t,e,i){var r=i(129),n=i(22)("iterator"),a=i(65);t.exports=i(10).isIterable=function(t){var e=Object(t);return void 0!==e[n]||"@@iterator"in e||a.hasOwnProperty(r(e))}},490:function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(534),a=r(n),o=i(16),s=r(o),l=i(158),h=r(l),c=i(56),u=r(c),d=i(37),f=r(d),v=i(3),p=r(v),y=i(4),m=r(y),x={ball_count:30,line_range:200,r_range:[10,20],color:[[56,56,56],[49,105,146],[153,47,37],[153,105,33],[70,120,33],[28,110,110],[75,75,120]],period:4e3,opacity:[.3,.8],speed:[-2,2]},g=function(){function t(e,i){(0,p.default)(this,t),this.canvas=document.getElementById(e),this.cxt=canvas.getContext("2d"),(0,f.default)(this,x,i),this.mouse={x:0,y:0,r:0,type:-1,color:[255,3,80],catchBall:!1,onLine:!1},this.vballs=[],this.balls=[],this.clickHandle=this.clickHandle.bind(this),this.mouseHandle=this.mouseHandle.bind(this),this.init=this.init.bind(this),this.bindEvent(),this.init(),this.start()}return(0,m.default)(t,[{key:"init",value:function(){this.width=this.canvas.width=this.canvas.offsetWidth,this.height=this.canvas.height=this.canvas.offsetHeight,this.bounds=this.canvas.getBoundingClientRect()}},{key:"bindEvent",value:function(){this.canvas.addEventListener("click",this.clickHandle,!1),this.canvas.addEventListener("mousemove",this.mouseHandle,!1),window.addEventListener("resize",this.init,!1)}},{key:"unbindEvent",value:function(){this.canvas.removeEventListener("click",this.clickHandle,!1),this.canvas.removeEventListener("mousemove",this.mouseHandle,!1),window.removeEventListener("resize",this.init,!1)}},{key:"clickHandle",value:function(t){this.toggleAnimateStatus()}},{key:"mouseHandle",value:function(t){t.timeStamp-this.mouse.timeStamp;this.mouse.timeStamp=t.timeStamp;var e=t.clientX-this.bounds.left,i=t.clientY-this.bounds.top;this.mouse.x=e,this.mouse.y=i}},{key:"start",value:function(){var t=this;if(this.isAnimate)return!1;for(var e=this.vballs.length;e<this.ball_count;e++)this.addBall();this.isAnimate=!0;var i=function e(){return!!t.isAnimate&&(t.render(),t.update(),void requestAnimationFrame(e))};requestAnimationFrame(i)}},{key:"toggleAnimateStatus",value:function(){return this.isAnimate?this.isAnimate=!1:void this.start()}},{key:"getColorList",value:function(t){for(var e=[t[1][0]-t[0][0],t[1][1]-t[0][1],t[1][2]-t[0][2]],i=Math.max(Math.abs(e[0]),Math.abs(e[1]),Math.abs(e[2])),r=e.map(function(t){return t/i}),n=[],a=function(e){n.push(r.map(function(i,r){return t[0][r]+i*e}))},o=0;o<i;o++)a(o);return n}},{key:"addBall",value:function(){var t={vx:this.getRandomNumber(this.speed),vy:this.getRandomNumber(this.speed),opacity:this.getRandomNumber(this.opacity),freq:this.period/16.7,cur_color:0,is_infect:!1,type:~~this.getRandomNumber([0,3]),cur_i:0,reverse:!1,withMouse:0};if(t.r=(1-t.opacity)*(this.r_range[1]-this.r_range[0])+this.r_range[0],t.x=this.getRandomNumber([t.r,this.width-t.r]),t.y=this.getRandomNumber([t.r,this.height-t.r]),this.isOverlap(t))return this.addBall();switch(t.color=this.color[0],t.ColorList=this.getColorList([this.color[t.cur_color],this.color[t.cur_color+1]]),t.type){case 0:break;case 1:t.emptyR=this.getRandomNumber([t.r/2,t.r/4*3]);break;case 2:t.emptyR=this.getRandomNumber([t.r/2,t.r/4*3]),t.sonR=this.getRandomNumber([t.emptyR/2,t.emptyR/4*3])}this.vballs.push(t)}},{key:"isOverlap",value:function(t){return!this.vballs.every(function(e){var i=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));return!(i<=t.r+e.r)})}},{key:"getBalls",value:function(){for(var t=null,e=[],i=0,r=this.vballs.length;i<r;i++)t=this.vballs[i],e.push(t),e=e.concat(this.addMirrorBalls(t));return e}},{key:"addMirrorBalls",value:function(t){var e=4*this.r_range[1],i=[],r={};t.x<e&&(r.x=t.x+this.width),t.x>this.width-e&&(r.x=t.x-this.width),t.y<e&&(r.y=t.y+this.height),t.y>this.height-e&&(r.y=t.y-this.height);for(var n in r){var a;i.push(this.addMirrorBall(t,(a={},(0,u.default)(a,n,r[n]),(0,u.default)(a,"parent",t),a)))}return 2===(0,h.default)(r).length&&i.push(this.addMirrorBall(t,{x:r.x,y:r.y,parent:t})),i}},{key:"addMirrorBall",value:function(t,e){var i={};for(var r in t)void 0!==e[r]?i[r]=e[r]:i[r]=t[r];return i}},{key:"render",value:function(t){var e=this;this.cxt.clearRect(0,0,this.width,this.height),this.balls.length=0,this.balls=this.getBalls(),this.balls.push(this.mouse),this.mouse.noLine=this.mouse.catchBall,this.mouse.catchBall=!1,(0,s.default)(this.balls,function(t,i){e.renderBall(t,i)})}},{key:"renderBall",value:function(t,e){var i=this,r=t.x,n=t.y,a=t.color;(0,s.default)(this.balls,function(o,s){if(s<=e)return!1;var l=Math.sqrt(Math.pow(r-o.x,2)+Math.pow(n-o.y,2));if(l<i.line_range&&l>t.r+o.r){if(o.type===-1&&(t.withMouse=1,t.is_infect=!0,i.mouse.noLine))return!1;var h=1-l/i.line_range,c=i.getRGBA(a,h),u=i.getRGBA(o.color,h),d=i.cxt.createLinearGradient(r,n,o.x,o.y);1===t.type?(d.addColorStop(0,c),d.addColorStop(t.emptyR/l,c),d.addColorStop(t.emptyR/l,"transparent")):2===t.type?(d.addColorStop(0,"transparent"),d.addColorStop(t.sonR/l,"transparent"),d.addColorStop(t.sonR/l,c),d.addColorStop(t.emptyR/l,c),d.addColorStop(t.emptyR/l,"transparent")):d.addColorStop(0,"transparent"),d.addColorStop(t.r/l,"transparent"),d.addColorStop(t.r/l,c),d.addColorStop(1-o.r/l,u),d.addColorStop(1-o.r/l,"transparent"),d.addColorStop(1,"transparent"),i.cxt.strokeStyle=d,i.renderLine(r,n,o.x,o.y)}else l<t.r+o.r&&!o.isCrash&&!t.isCrash?o.type===-1?(t.withMouse=2,t.is_infect=!0,i.mouse.catchBall=!0):(t.isCrash=!0,o.isCrash=!0,i.crashHandle(t,o),t.parent&&(t.parent.isCrash=!0),o.parent&&(o.parent.isCrash=!0)):o.type===-1&&(t.withMouse=0,t.is_infect=!1)}),0===t.type?this.renderTypeArc(r,n,t.r,this.getRGBA(a,t.opacity)):1===t.type?this.renderTypeArc(r,n,t.r,this.getRGBA(a,t.opacity),t.emptyR):2===t.type&&this.renderTypeArc(r,n,t.r,this.getRGBA(a,t.opacity),t.emptyR,t.sonR)}},{key:"resetColorList",value:function(t){t.cur_i=0,t.reverse=!1}},{key:"crashHandle",value:function(t,e){var i=Math.atan2(e.y-t.y,e.x-t.x),r=Math.sqrt(t.vx*t.vx+t.vy*t.vy),n=Math.sqrt(e.vx*e.vx+e.vy*e.vy),a=Math.atan2(t.vy,t.vx),o=Math.atan2(e.vy,e.vx),s=r*Math.cos(a-i),l=r*Math.sin(a-i),h=n*Math.cos(o-i),c=n*Math.sin(o-i),u=h,d=l,f=s,v=c;t.fx=Math.cos(i)*u+Math.cos(i+Math.PI/2)*d,t.fy=Math.sin(i)*u+Math.sin(i+Math.PI/2)*d,e.fx=Math.cos(i)*f+Math.cos(i+Math.PI/2)*v,e.fy=Math.sin(i)*f+Math.sin(i+Math.PI/2)*v}},{key:"update",value:function(){var t=this;this.vballs=this.vballs.map(function(e){if(e.x<-e.r?e.x=e.x+t.width:e.x>t.width+e.r?e.x=e.x-t.width:e.y<-e.r?e.y=e.y+t.height:e.y>t.height+e.r&&(e.y=e.y-t.height),t.updateColor(e),e.isCrash&&(e.isCrash=!1,e.vx=e.fx,e.vy=e.fy),1===e.withMouse){var i=.02*Math.random();e.y>t.mouse.y?e.vy=.99*e.vy+i:e.vy=.99*e.vy-i,e.x>t.mouse.x?e.vx=.99*e.vx+i:e.vx=.99*e.vx-i}return 2!==e.withMouse&&(e.x+=e.vx,e.y+=e.vy),e})}},{key:"updateColor",value:function(t){var e=this;t.cur_i+=t.ColorList.length/t.freq;var i=~~t.cur_i;return i!==t.cur_i&&void(t.color=t.color.map(function(r,n){return i===t.ColorList.length&&(t.cur_i=i=0,t.cur_color++,t.cur_color===e.color.length-1?(t.ColorList=e.getColorList([e.color[t.cur_color],e.color[0]]),t.cur_color=-1):t.ColorList=e.getColorList([e.color[t.cur_color],e.color[t.cur_color+1]])),t.ColorList[i][n]}))}},{key:"getRGBA",value:function(t,e){return"transparent"===t?t:"rgba("+~~t[0]+", "+~~t[1]+", "+~~t[2]+", "+e+")"}},{key:"getRandomNumber",value:function(t,e){var i=(0,a.default)(t,2),r=i[0],n=i[1];return Math.random()*(n-r)+r}},{key:"renderTypeArc",value:function(t,e,i,r,n,a){this.cxt.fillStyle=r,this.cxt.beginPath(),this.cxt.arc(t,e,i,0,2*Math.PI,!0),n&&this.cxt.arc(t,e,n,0,2*Math.PI,!1),a&&this.cxt.arc(t,e,a,0,2*Math.PI,!0),this.cxt.closePath(),this.cxt.fill()}},{key:"renderArc",value:function(t,e,i,r){this.cxt.fillStyle=r,this.cxt.beginPath(),this.cxt.arc(t,e,i,0,2*Math.PI,!0),this.cxt.closePath(),this.cxt.fill()}},{key:"renderRing",value:function(t,e,i,r,n){this.cxt.fillStyle=r,this.cxt.beginPath(),this.cxt.arc(t,e,i,0,2*Math.PI,!0),this.cxt.arc(t,e,n,0,2*Math.PI,!1),this.cxt.closePath(),this.cxt.fill()}},{key:"renderRing",value:function(t,e,i,r,n,a){this.cxt.fillStyle=r,this.cxt.beginPath(),this.cxt.arc(t,e,i,0,2*Math.PI,!0),this.cxt.arc(t,e,n,0,2*Math.PI,!1),this.cxt.arc(t,e,i,0,2*Math.PI,!0),this.cxt.closePath(),this.cxt.fill()}},{key:"renderLine",value:function(t,e,i,r){this.cxt.beginPath(),this.cxt.moveTo(t,e),this.cxt.lineTo(i,r),this.cxt.closePath(),this.cxt.stroke()}},{key:"renderTri",value:function(t,e,i){this.cxt.beginPath(),this.cxt.moveTo(t.x,t.y),this.cxt.lineTo(e.x,e.y),this.cxt.lineTo(i.x,i.y),this.cxt.lineTo(t.x,t.y),this.cxt.closePath(),this.cxt.stroke()}}]),t}();e.default=g},505:function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(7),a=r(n),o=i(3),s=r(o),l=i(4),h=r(l),c=i(9),u=r(c),d=i(8),f=r(d),v=i(1),p=r(v),y=i(490),m=r(y);i(308);var x=i(18),g=i(15),b=i(23),M=r(b),w=!/(iPhone|iPad|iPod|iOS|Android|SymbianOS|Windows Phone)/i.test(navigator.userAgent),_=function(t){function e(t){return(0,s.default)(this,e),(0,u.default)(this,(e.__proto__||(0,a.default)(e)).call(this,t))}return(0,f.default)(e,t),(0,h.default)(e,[{key:"componentDidMount",value:function(){var t=w?null:{ball_count:15,line_range:120,r_range:[5,12]};setTimeout(function(){new m.default("canvas",t)})}},{key:"render",value:function(){return p.default.createElement("span",null,p.default.createElement("div",{ref:"view",className:"home-view"},p.default.createElement("div",{className:"first-screen"},p.default.createElement("section",{className:"info"},p.default.createElement("h1",null,"NightCat")),p.default.createElement("canvas",{id:"canvas"})),p.default.createElement("aside",null,p.default.createElement("a",{href:"https://github.com/NightCatSama/My-Animat/blob/master/bead/src/javascripts/canvas.js"},"source code"))))}}]),e}(v.Component),k=function(t){return{store:t}},C=function(t){return{actions:(0,g.bindActionCreators)(M.default,t)}};e.default=(0,x.connect)(k,C)(_),_.propTypes={actions:v.PropTypes.any}},529:function(t,e,i){t.exports={default:i(403),__esModule:!0}},534:function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var n=i(529),a=r(n),o=i(157),s=r(o);e.default=function(){function t(t,e){var i=[],r=!0,n=!1,a=void 0;try{for(var o,l=(0,s.default)(t);!(r=(o=l.next()).done)&&(i.push(o.value),!e||i.length!==e);r=!0);}catch(t){n=!0,a=t}finally{try{!r&&l.return&&l.return()}finally{if(n)throw a}}return i}return function(e,i){if(Array.isArray(e))return e;if((0,a.default)(Object(e)))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()}});